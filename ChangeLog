2003-12-23  Guilhem Lavaux <guilhem@kaffe.org>

	* libraries/javalib/kjc.jar: Regenerated a new KJC
	with latest Ito's patch applied.

	* libraries/javalib/java/text/RuleBasedCollator.java,
	libraries/javalib/java/text/CollationElementIterator.java,
	libraries/gnu/java/net/jar/Handler.java:
	Fixed indentation, added some extra documentation.
	Simplified the logic (catching NullPointerException
	is prevented).

	* libraries/javalib/java/io/ObjectOutputStream.java
	(writeClassDescriptor): Write descriptor about superclass
	even when it's "External".
	(callReadMethod): Reset prereadFields to null after having
	called the read method.

	* libraries/javalib/gnu/java/net/protocol/http/Connection.java
	(getHeaderField, getHeaderFieldKey): connect() should be call
	if the connection was not established.

	* libraries/javalib/java/net/InetSocketAddress.java
	(InetSocketAddress): Don't call getHostName() if addr is IN_ANY.

	* libraries/javalib/gnu/java/net/DNSJavaInetAddressImpl.java:
	Implemented DNSJava binding (still buggy).

	* libraries/javalib/Makefile.am.in
	(DNSJAVA_InetAddressImpl): Changed the location of the DNSJava
	binding implementation.

	* libraries/javalib/Makefile.am, libraries/javalib/Makefile.in:
	Regenerated.

2003-12-23  Dalibor Topic <robilad@kaffe.org>

        * configure.in
	(CONFIG_CALLKAFFEEXCEPTION_H): New variable.

        * config/alpha/jit.h,
        config/arm/jit.h,
        config/i386/jit.h,
        config/m68k/jit.h,
        config/mips/jit.h,
        config/sparc/jit.h:
	(CALL_KAFFE_EXCEPTION) Converted to static inline 
	function, and moved to its own file.

        * config/alpha/callKaffeException.h,
        config/arm/callKaffeException.h,
        config/i386/callKaffeException.h,
        config/m68k/callKaffeException.h,
        config/mips/callKaffeException.h,
        config/sparc/callKaffeException.h:
	New files.

        * kaffe/kaffevm/exception.c:
	Include callKaffeException.h.

        * config/Makefile.am
	(EXTRA_DIST): Added config/alpha/callKaffeException.h,
        config/arm/callKaffeException.h,
        config/i386/callKaffeException.h,
        config/m68k/callKaffeException.h,
        config/mips/callKaffeException.h,
        config/sparc/callKaffeException.h.
	(GEN_HDRS, DISTCLEANFILES, noinst_HEADERS) Cleaned up.
	(callKaffeException.h, stamp-h04) New targets.

        * Makefile.in,
        config/Makefile.in,
        configure,
        include/Makefile.in,
        kaffe/Makefile.in,
        kaffe/jvmpi/Makefile.in,
        kaffe/kaffe/Makefile.in,
        kaffe/kaffeh/Makefile.in,
        kaffe/kaffevm/Makefile.am,
        kaffe/kaffevm/Makefile.in,
        kaffe/kaffevm/gcj/Makefile.in,
        kaffe/kaffevm/intrp/Makefile.in,
        kaffe/kaffevm/jit/Makefile.in,
        kaffe/kaffevm/jit3/Makefile.in,
        kaffe/kaffevm/systems/Makefile.in,
        kaffe/kaffevm/systems/beos-native/Makefile.in,
        kaffe/kaffevm/systems/oskit-pthreads/Makefile.in,
        kaffe/kaffevm/systems/unix-jthreads/Makefile.in,
        kaffe/kaffevm/systems/unix-pthreads/Makefile.in,
        kaffe/man/Makefile.in,
        kaffe/scripts/Makefile.in,
        kaffe/scripts/bat/Makefile.in,
        kaffe/scripts/compat/Makefile.in,
        kaffe/xprof/Makefile.in,
        libraries/Makefile.in,
        libraries/clib/Makefile.in,
        libraries/clib/awt/Makefile.in,
        libraries/clib/awt/X/Makefile.in,
        libraries/clib/awt/qt/Makefile.in,
        libraries/clib/io/Makefile.in,
        libraries/clib/management/Makefile.in,
        libraries/clib/math/Makefile.in,
        libraries/clib/native/Makefile.in,
        libraries/clib/net/Makefile.in,
        libraries/clib/nio/Makefile.in,
        libraries/clib/security/Makefile.in,
        libraries/clib/zip/Makefile.in,
        libraries/extensions/Makefile.in,
        libraries/extensions/comm/Makefile.in,
        libraries/extensions/comm/javalib/Makefile.in,
        libraries/extensions/microsoft/Makefile.in,
        libraries/extensions/microsoft/clib/Makefile.in,
        libraries/extensions/microsoft/javalib/Makefile.in,
        libraries/extensions/pjava/Makefile.in,
        libraries/extensions/pjava/javalib/Makefile.in,
        libraries/extensions/servlet/Makefile.in,
        libraries/extensions/servlet/javalib/Makefile.in,
        libraries/extensions/sound/Makefile.in,
        libraries/extensions/sound/alsa/Makefile.in,
        libraries/extensions/sound/common/Makefile.in,
        libraries/extensions/sound/esd/Makefile.in,
        libraries/javalib/Makefile.in,
        replace/Makefile.in,
        test/Makefile.in,
        test/internal/Makefile.in,
        test/regression/Makefile.in,
        test/regression/compile_time/Makefile.in,
        test/regression/run_time/Makefile.in:
	Regenerated.

2003-12-19  Dalibor Topic <robilad@kaffe.org>

        * FAQ/FAQ.automake:
	Recommend automake 1.8 and autoconf 2.59.

        * developers/autogen.sh:
	Upgraded to automake 1.8 and autoconf 2.59.

	* gnu-crypto.m4,
        herrno.m4,
        in6addr.m4,
        sockaddrin6.m4,
        valist.m4:
	Fixed autoconf macro quoting warnings.

        * Makefile.in,
        aclocal.m4,
        config/Makefile.in,
        configure,
        depcomp,
        include/Makefile.in,
        install-sh,
        kaffe/Makefile.in,
        kaffe/jvmpi/Makefile.in,
        kaffe/kaffe/Makefile.in,
        kaffe/kaffeh/Makefile.in,
        kaffe/kaffevm/Makefile.in,
        kaffe/kaffevm/gcj/Makefile.in,
        kaffe/kaffevm/intrp/Makefile.in,
        kaffe/kaffevm/jit/Makefile.in,
        kaffe/kaffevm/jit3/Makefile.in,
        kaffe/kaffevm/systems/Makefile.in,
        kaffe/kaffevm/systems/beos-native/Makefile.in,
        kaffe/kaffevm/systems/oskit-pthreads/Makefile.in,
        kaffe/kaffevm/systems/unix-jthreads/Makefile.in,
        kaffe/kaffevm/systems/unix-pthreads/Makefile.in,
        kaffe/man/Makefile.in,
        kaffe/scripts/Makefile.in,
        kaffe/scripts/bat/Makefile.in,
        kaffe/scripts/compat/Makefile.in,
        kaffe/xprof/Makefile.in,
        libltdl/Makefile.in,
        libltdl/aclocal.m4,
        libltdl/configure,
        libraries/Makefile.in,
        libraries/clib/Makefile.in,
        libraries/clib/awt/Makefile.in,
        libraries/clib/awt/X/Makefile.in,
        libraries/clib/awt/qt/Makefile.in,
        libraries/clib/io/Makefile.in,
        libraries/clib/management/Makefile.in,
        libraries/clib/math/Makefile.in,
        libraries/clib/native/Makefile.in,
        libraries/clib/net/Makefile.in,
        libraries/clib/nio/Makefile.in,
        libraries/clib/security/Makefile.in,
        libraries/clib/zip/Makefile.in,
        libraries/extensions/Makefile.in,
        libraries/extensions/comm/Makefile.in,
        libraries/extensions/comm/javalib/Makefile.in,
        libraries/extensions/microsoft/Makefile.in,
        libraries/extensions/microsoft/clib/Makefile.in,
        libraries/extensions/microsoft/javalib/Makefile.in,
        libraries/extensions/pjava/Makefile.in,
        libraries/extensions/pjava/javalib/Makefile.in,
        libraries/extensions/servlet/Makefile.in,
        libraries/extensions/servlet/javalib/Makefile.in,
        libraries/extensions/sound/Makefile.in,
        libraries/extensions/sound/alsa/Makefile.in,
        libraries/extensions/sound/common/Makefile.in,
        libraries/extensions/sound/esd/Makefile.in,
        libraries/javalib/Makefile.in,
        missing,
        replace/Makefile.in,
        test/Makefile.in,
        test/internal/Makefile.in,
        test/regression/Makefile.in,
        test/regression/compile_time/Makefile.in,
        test/regression/run_time/Makefile.in:
	Regenerated.

2003-12-19  Dalibor Topic <robilad@kaffe.org>

	* libraries/clib/net/PlainDatagramSocketImpl.c:
	Include dummyin6.h to fix compiler warnings on Cygwin.

2003-12-19  Dalibor Topic <robilad@kaffe.org>

	* libraries/clib/native/CharToByteIconv.c:
	Include unistd.h if available.
	(Java_kaffe_io_CharToByteIconv_convert): Fixed type mismatch
	warning.

	* libraries/clib/native/ByteToCharIconv.c:
        Include unistd.h if available.
        (Java_kaffe_io_ByteToCharIconv_convert): Fixed type mismatch
        warning.

2003-12-19  Dalibor Topic <robilad@kaffe.org>

	* kaffe/kaffevm/systems/unix-jthreads/jthread.c
	(jthread_current, jthread_on_current_stack, 
	jthread_stackcheck, jthread_relaxstack, 
	jthread_stacklimit, jthread_spinon, 
	jthread_spinoff, jthread_get_usage): New functions, deinlined
	from kaffe/kaffevm/systems/unix-jthreads/jthread.h.

	* kaffe/kaffevm/systems/unix-jthreads/jthread.h
	(jthread_current, jthread_on_current_stack,
        jthread_stackcheck, jthread_relaxstack,
        jthread_stacklimit, jthread_spinon,
        jthread_spinoff, jthread_get_usage): Replaced inline functions
	by prototype declarations, and moved implementations over to
	kaffe/kaffevm/systems/unix-jthreads/jthread.c to fix build 
	problems on Cygwin.

2003-12-19  Dalibor Topic <robilad@kaffe.org>

	* include/nets.h
	[!HAVE_INET_NTOP]: Added prototype for inet_ntop.
	[!HAVE_INET_PTON]: Added prototype for inet_pton.

2003-12-14  Dalibor Topic <robilad@kaffe.org>

	* kaffe/kaffevm/support.h:
	Updated comment on sysdepCallMethod.

2003-12-14  Dalibor Topic <robilad@kaffe.org>

	* config/superh/sysdepCallMethod.h: New file.

	* config/superh/common.h: Moved sysdepCallMethod
	into config/superh/sysdepCallMethod.h.

	* config/superh/linux/md.h:
	Include config/superh/sysdepCallMethod.h.

	* config/Makefile.am
	(EXTRA_DIST): Added config/superh/sysdepCallMethod.h.

	* aclocal.m4,
	config/Makefile.in:
	Regenerated.

2003-12-14  Guilhem Lavaux <guilhem@kaffe.org>,
	Everton da Silva Marques <everton@lab.ipaccess.diveo.net.br>

	* libraries/clib/net/PlainDatagramSocket.c:
	(gnu_java_net_PlainDatagramSocketImpl_join,
	gnu_java_net_PlainDatagramSocketImpl_leave,
	gnu_java_net_PlainDatagramSocketImpl_joinGroup,
	gnu_java_net_PlainDatagramSocketImpl_leaveGroup)
	Use the last setup network interface for the multicast socket
	if there is no explicit mention of it in the parameters.
	Changes suggested by Everton da Silva Marques 
	<everton@lab.ipaccess.diveo.net.br>.

	* libraries/javalib/java/io/ObjectInputStream.java,
	libraries/javalib/java/io/ObjectOutputStream.java,
	libraries/javalib/java/io/ObjectStreamClass.java,
	libraries/javalib/java/io/ObjectStreamField.java:
	Upgraded to classpath's version.

2003-12-13  Dalibor Topic <robilad@kaffe.org>

	* config/s390/sysdepCallMethod.h: New file.

	* config/s390/common.h: Moved sysdepCallMethod
	into config/s390/sysdepCallMethod.h.

	* config/s390/linux/md.h:
	Include config/s390/sysdepCallMethod.h.

	* config/Makefile.am
	(EXTRA_DIST): Added config/s390/sysdepCallMethod.h.

	* aclocal.m4,
	config/Makefile.in:
	Regenerated.

2003-12-13  Dalibor Topic <robilad@kaffe.org>

	* config/mips/sysdepCallMethod.h: New file.

	* config/mips/common.h: Moved sysdepCallMethod selection
	into config/mips/sysdepCallMethod.h.

	* config/mips/irix5/md.h,
	config/mips/linux/md.h,
	config/mips/ultrix4/md.h:
	Include config/mips/sysdepCallMethod.h.

	* config/mips/netbsd1/md.c:
	(mips32CallMethod) Renamed to sysdepCallMethod.

	* config/mips/netbsd1/md.h:
	Declared sysdepCallMethod.

	* config/Makefile.am
	(EXTRA_DIST): Added config/mips/sysdepCallMethod.h.

	* aclocal.m4,
	config/Makefile.in:
	Regenerated.

2003-12-12  Atsushi Nemoto  <anemo@mba.ocn.ne.jp>

	Fixed build on mipsel-linux for jit3.

	* config/mips/linux/md.h
	(EXCEPTIONPROTO, MIPS_FP, EXCEPTIONFRAME) Moved to 
	config/mips/linux/jit-md.h.
	(SIGNAL_ARGS, SIGNAL_CONTEXT_POINTER, 
	GET_SIGNAL_CONTEXT_POINTER, SIGNAL_PC) New macros.

	* config/mips/linux/jit-md.h
	(EXCEPTIONPROTO, MIPS_FP, EXCEPTIONFRAME) New macros.

2003-12-12  Dalibor Topic <robilad@kaffe.org>

	* config/parisc/sysdepCallMethod.h: New file.

	* config/Makefile.am
	(EXTRA_DIST): Added config/m68k/sysdepCallMethod.h.

	* aclocal.m4,
	config/Makefile.in:
	Regenerated.

	* config/parisc/common.h
	(sysdepCallMethod): Moved into its own file,
        config/parisc/sysdepCallMethod.h.

	* config/parisc/hpux/md.h,
	config/parisc/linux/md.h:
	Include config/m68k/sysdepCallMethod.h.

2003-12-12  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* libraries/javalib/Makefile.am,
	libraries/javalib/Makefile.in,
	libraries/javalib/Makefile.am.in:
	Deleted *EUC_JP.tbl.

2003-12-12  Atsushi Nemoto  <anemo@mba.ocn.ne.jp>

	* libraries/clib/native/ByteToCharIconv.c,
	libraries/clib/native/CharToByteIconv.c:
	The endianness of UCS-2 varys depending on the version of
	iconv. So we use UCS-2BE or UCS-2LE depending on the endianness
	of the configuration.
	Commited by Ito Kazumitsu  <kaz@maczuka.gcd.org>.

2003-12-12  Dalibor Topic <robilad@kaffe.org>

	* config/m68k/sysdepCallMethod.h: New file.

	* config/Makefile.am:
	((EXTRA_DIST) Added config/m68k/sysdepCallMethod.h.

	* aclocal.m4,
	config/Makefile.in:
	Regenerated.

	* config/m68k/common.h:
	(sysdepCallMethod) Moved into its own file,
        config/m68k/sysdepCallMethod.h.
	(sysdepCallMethod)[USE_ASM] Deleted.

	* config/m68k/a-ux/md.h,
	config/m68k/amigaos/md.h,
	config/m68k/netbsd1/md.h,
	config/m68k/nextstep3/md.h,
	config/m68k/openbsd2/md.h,
	config/m68k/sunos4/md.h:
	Include config/m68k/sysdepCallMethod.h.
	
	* config/m68k/linux/md.h:
	(sysdepCallMethod) Converted macro to inline function.

2003-12-12  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* libraries/javalib/kaffe/io/CharToByteEUC_JP.java,
	libraries/javalib/kaffe/io/ByteToCharEUC_JP.java:
	Rewritten as an extension of CharToByteIconv and
	ByteToCharIconv.

	* kaffe/developers/README.EUC_JP:
	Added a comment on the change above.

	* libraries/javalib/kaffe/io/CharToByteEUC_JP.tbl,
	libraries/javalib/kaffe/io/ByteToCharEUC_JP.tbl:
	Deleted.

2003-12-11  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* libraries/javalib/kaffe/io/CharToByteEUC_JP.java:
	Corrected the typo "0x20E3" to "0x203E" (reported by
	Atsushi Nemoto <anemo@mba.ocn.ne.jp>).

2003-12-11  Dalibor Topic <robilad@kaffe.org>

	* config/i386/sysdepCallMethod.h: New file.

	* config/Makefile.am
	(EXTRA_DIST) Added config/i386/sysdepCallMethod.h.

        * aclocal.m4,
        config/Makefile.in:
	Regenerated.

        * config/i386/common.h:
	(sysdepCallMethod) Moved into its own file,
        config/i386/sysdepCallMethod.h.

        * config/i386/bsdi/md.h,
	config/i386/beos/md.h,
        config/i386/cygwin32/md.h,
        config/i386/dgux/md.h,
        config/i386/freebsd2/md.h,
        config/i386/gnu/md.h,
        config/i386/linux/md.h,
        config/i386/netbsd1/md.h,
        config/i386/nextstep3/md.h,
        config/i386/openbsd2/md.h,
        config/i386/oskit/md.h,
        config/i386/sco3.2v5/md.h,
        config/i386/solaris2/md.h,
        config/i386/univel_svr4/md.h:
	Include config/i386/sysdepCallMethod.h.

        * config/i386/win32/md.h,
        config/i386/qnx/md.h:
	(sysdepCallMethod) Converted macro to inline function.

2003-12-11  Dalibor Topic <robilad@kaffe.org>

	* config/arm/sysdepCallMethod.h: New file.

	* config/Makefile.am
	(EXTRA_DIST) Added config/arm/sysdepCallMethod.h.

	* aclocal.m4,
	config/Makefile.in,
	kaffe/Makefile.in,
	kaffe/kaffe/Makefile.in,
	kaffe/scripts/Makefile.in,
	kaffe/scripts/compat/Makefile.in,
	test/internal/Makefile.in,
	test/regression/Makefile.in:
	Regenerated.

	* config/arm/common.h
	(sysdepCallMethod) Moved into its own file,
	config/arm/sysdepCallMethod.h.

	* config/arm/linux/md.h,
	config/arm/netbsd1/md.h:
	Include config/arm/sysdepCallMethod.h.

	* config/arm/riscos/md.h:
	(sysdepCallMethod) Converted macro to inline function.

2003-12-11  Dalibor Topic <robilad@kaffe.org>

	* config/m68k/common.h
	(sysdemCallMethod)[!__linux__]: Removed unused 
	variables.

2003-12-10  Dalibor Topic <robilad@kaffe.org>

	* config/m68k/common.h: Added missing include for 
	support.h to fix compilation on m68k platforms.

2003-12-09  Jim Pick <jim@kaffe.org>

	* docs/src/docbook/port-kaffe/fdl.xml,
	docs/src/docbook/port-kaffe/jit-icode.c,
	docs/src/docbook/port-kaffe/port-kaffe.xml:
	Add docbook sources for "Porting Kaffe to a new Platform"
	document.

	* docs/html/fdl.html,
	docs/html/port-kaffe.html:
	Add generated HTML.

	* docs/html/index.html:
	Add static XHTML index page.

	* project.properties.in,
	project.xml.in,
	configure.in:
	Add templates for Maven project descriptors.  We need
	to generate the project.xml and project.projecties files
	at configure time, because the build directory may not
	be the same as the source directory.

	* Makefile.am:
	Add docs-docbook-html and docs-regen targets.

	* Makefile.in,
	aclocal.m4,
	configure,
	kaffe/Makefile.in,
	kaffe/kaffe/Makefile.in,
	kaffe/scripts/Makefile.in,
	kaffe/scripts/compat/Makefile.in,
	test/internal/Makefile.in,
	test/regression/Makefile.in:
	Regenerated.

2003-12-09  Bernhard Rosenkraenzer <bero@arklinux.org>

	* libraries/extensions/sound/alsa/org_tritonus_lowlevel_alsa_AlsaPcmHWParams.c,
	libraries/extensions/sound/alsa/org_tritonus_lowlevel_alsa_AlsaPcmSWParams.c
	(ALSA_PCM_OLD_HW_PARAMS_API) Defined to fix kaffe on ALSA 1.x.
	
2003-12-09  Dalibor Topic <robilad@kaffe.org>

	* config/m68k/common.h
	(sysdepCallMethod) Converted to inline function.
	(COMPARE_AND_EXCHANGE) Call compare_and_swap inline function
	from atomicity.h.

	* config/m68k/atomicity.h: New file from GNU libc.

	* config/Makefile.am 
	(EXTRA_DIST) Added config/m68k/atomicity.h.

	* config/Makefile.in,
	aclocal.m4:
	Regenerated.
	
	* THIRDPARTY: Added information on m68k atomic compare_and_swap.
	
2003-12-08  Dalibor Topic <robilad@kaffe.org>

        * Makefile.am
	(EXTRA_DIST) Added ChangeLog.6, ChangeLog.7 and ChangeLog.8.

        * Makefile.in,
        aclocal.m4,
        config/Makefile.in,
        kaffe/Makefile.in,
        kaffe/kaffe/Makefile.in,
        kaffe/kaffevm/Makefile.in,
        kaffe/kaffevm/gcj/Makefile.in,
        kaffe/scripts/Makefile.in,
        libraries/clib/Makefile.in,
        libraries/javalib/Makefile.am,
        libraries/javalib/Makefile.in,
        test/internal/Makefile.in,
        test/regression/Makefile.in:
	Regenerated.

2003-12-08  Dalibor Topic <robilad@kaffe.org>

        * Makefile.am
	(EXTRA_DIST) Added ChangeLog.6, ChangeLog.7 and ChangeLog.8.

        * Makefile.in,
        aclocal.m4,
        config/Makefile.in,
        kaffe/Makefile.in,
        kaffe/kaffe/Makefile.in,
        kaffe/kaffevm/Makefile.in,
        kaffe/kaffevm/gcj/Makefile.in,
        kaffe/scripts/Makefile.in,
        libraries/clib/Makefile.in,
        libraries/javalib/Makefile.am,
        libraries/javalib/Makefile.in,
        test/internal/Makefile.in,
        test/regression/Makefile.in:
	Regenerated.

2003-12-08  Dalibor Topic <robilad@kaffe.org>

	* ChangeLog:
	Split out changes for time period between 1.1.2 and 1.1.3 into
	ChangeLog.8.

	* ChangeLog.8: New file.

2003-12-08  Dalibor Topic <robilad@kaffe.org>

	* ChangeLog:
	Split out changes for time period between 1.1.1 and 1.1.2 into
	ChangeLog.7.

	* ChangeLog.7: New file.

2003-12-08  Dalibor Topic <robilad@kaffe.org>

	* ChangeLog:
	Split out changes for time period between 1.1.0 and 1.1.1 into
	ChangeLog.6.

	* ChangeLog.6: New file.
	
See ChangeLog.8 for earlier changes.
