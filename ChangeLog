2006-04-26  Riccardo Mottola <riccardo@kaffe.org>

	* javalib/awt-implementations/kaffe/java/awt/AWTEvent.java,
	javalib/awt-implementations/kaffe/java/awt/Defaults.java:
	implemented a compliant setSource() in AWTEvent.

2006-04-25  Riccardo Mottola <riccardo@kaffe.org>

	* awt-implementations/kaffe/java/awt/event/HierarchyBoundsAdapter.java,
	awt-implementations/kaffe/java/awt/event/HierarchyBoundsListener.java,
	awt-implementations/kaffe/java/awt/event/HierarchyEvent.java
	awt-implementations/kaffe/java/awt/event/HierarchyListener.java:
	removed, so to use classath

2006-04-24  Riccardo Mottola <riccardo@kaffe.org>

	* awt-implementations/kaffe/java/awt/ActionEvt.java,
	awt-implementations/kaffe/java/awt/MouseEvt.java,
	awt-implementations/kaffe/java/awt/event/ActionEvent.java:
	improved mouse pressed and released events.
	
2006-04-24  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/MouseEvt.java:
	removed package-protected field "button" so that the MouseEvent field is used.

2006-04-24  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/AttributeValue.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/BufferCapabilities.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Transparency.java:
	removed so classpath versions are used.

2006-04-24  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/MouseEvt.java:
	removed an empty method which should not be used anyway

2006-04-24  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/exception.c (dispatchException): Added missing
	cast to fix compiler warning.

2006-04-23  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/Makefile.am: Removed stringParsing.c and 
	stringParsing.h.

	* kaffe/kaffevm/stringParsing.c,
	kaffe/kaffevm/stringParsing.h: Removed since only used for jit testing. 
	Moved over to ...

	* test/internal/stringParsing.c,
	test/internal/stringParsing.h: ... here.

	* test/internal/Makefile.am (jitBasic_SOURCES) Added stringParsing.c
	and stringParsing.h.

2006-04-23  Dalibor Topic  <robilad@kaffe.org>

	* config/powerpc/jit3-powerpc.def: Fixed small powerpc
	jitter debug message format warnings.

2006-04-23  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/classMethod.c (getMethodCodeStart) 
	(setMethodCodeStart): Replace struct _jitCodeHeader
	by jitCodeHeader, which is then suitably defined in 
	each engine.

	* kaffe/kaffevm/intrp/machine.h: Define jitCodeHeader type
	to fix compiler warning.

	* kaffe/kaffevm/classMethod.h: Use jitCodeHeader instead of
	struct _jitCodeHeader.

2006-04-23  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/jit3/machine.c (installMethodCode),
	kaffe/kaffevm/jit/machine.c (installMethodCode) 
	(installMethodCode),
	kaffe/kaffevm/gcFuncs.c (destroyClass),
	kaffe/kaffevm/classPool.c (statClass),
	kaffe/kaffevm/classMethod.c (METHOD_TRUE_NCODE, processClass) 
	(processClass),
	kaffe/jvmpi/jvmpi_kaffe.c (jvmpiFillMethodLoad):
	Use getMethodCodeStart and setMethodCodeStart instead accessing
	struct fields directly.

2006-04-22  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/intrp/methodcalls.c (engine_dispatchException): 
	Mark parameter throwable as unused to fix compiler warning.

2006-04-22  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/systems/unix-jthreads/signal.c (restoreSyncSignalHandler) 
	(restoreAsyncSignalHandler): Split into two versions for systems with and
	without sigaction. In the latter case, do nothing and mark the paraters
	as unused.

2006-04-22  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/systems/unix-pthreads/syscalls.c (jthreadedSendto),
	kaffe/kaffevm/systems/unix-jthreads/syscalls.c 
	(jthreadedGetHostByAddr, jthreadedBind, jthreadedSendto),
	kaffe/kaffevm/systems/unix-jthreads/jthread.c (jthreadedConnect),
	kaffe/kaffevm/systems/unix-jthreads/jthread.h (jthreadedConnect):
	Fixed prototypes to match declarations in jsyscalls.h.

	* include/jsyscall.h: Fixed paramters for _sendto to
	match libc prototype.

2006-04-22  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/binreloc.c (_br_find_exe_for_symbol): 
	Mark parameter error as unused when binreloc is enabled.

2006-04-22  Dalibor Topic  <robilad@kaffe.org>

	* THIRDPARTY: Added version information for binreloc.

2006-04-22  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/constants.c (readConstantPool): Introduced
	new local variable str to hold utf8 strings from class 
	file. That fixes a compiler warning.

2006-04-22  Dalibor Topic  <robilad@kaffe.org>

	Replaced utf8ConstNew(*,-1) calls with the helper function
	utf8ConstFromString.

	* kaffe/kaffevm/utf8const.h,
	kaffe/kaffevm/utf8const.c (utf8ConstFromString): New function.
	(utf8ConstNew) Factored out creation of utf8 constants from
	null-terminated strings into utf8ConstFromString. Changed len
	parameter type to size_t.

	* kaffe/kaffeh/main.c,
	kaffe/kaffevm/baseClasses.c,
	kaffe/kaffevm/classMethod.c,
	kaffe/kaffevm/itypes.c,
	kaffe/kaffevm/reference.c,
	kaffe/kaffevm/string.c,
	kaffe/kaffevm/support.c,
	kaffe/kaffevm/gcj/gcj-glue.c,
	kaffe/kaffevm/jni/jni-string.c,
	kaffe/kaffevm/jni/jni.c,
	libraries/clib/management/JIT.c,
	libraries/clib/native/ClassLoader.c,
	libraries/clib/net/InetAddressImpl.c,
	libraries/extensions/microsoft/clib/Delegate.c,
	test/internal/jitBasic.c,
	test/internal/jit_stub.c: Replaced use of utf8ConstNew with
	utf8ConstFromString where a utf8 constant was created from a 
	null-terminated string. 

2006-04-22  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/jit/native-wrapper.c (Kaffe_wrapper):
	Call the right initInsnSequence depending on the jit engine.
	Call INIT_JIT_MD if necessary.

	* kaffe/kaffevm/jit3/machine.c (initInsnSequence) Removed 
	unused parameters from prototype. 
	(translate): Call INIT_JIT_MD if necessary.

	* kaffe/kaffevm/jit3/machine.h: (initInsnSequence) Removed
        unused parameters from prototype.

2006-04-21  Dalibor Topic  <robilad@kaffe.org>

	* config/i386/jit3-i386.def: Added debug output
	for each defined instruction.

2006-04-21  Dalibor Topic  <robilad@kaffe.org>

	* TODO: Removed inflate_oneshot task.

2006-04-21  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffeh/Makefile.am (GEN_SRCS): Removed inflate.c
	Link with zlib and add its includes to CPPFLAGS.

	* kaffe/kaffevm/Makefile.am: Link with zlib and add its 
	includes to CPPFLAGS. Removed inflate.c and inflate.h.

	* kaffe/kaffevm/jar.c: Include zlib.h.
	(inflate_oneshot) New static function.
	(inflateJarData): Removed unnecessary casts.
	
	* kaffe/kaffevm/inflate.c,
	kaffe/kaffevm/inflate.h: Removed.
	
2006-04-20  Dalibor Topic  <robilad@kaffe.org>

	* include/system.h: Added __uclinux__ to Unix like path/line/file
	separators.

2006-04-20  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffe/main.c (KAFFEHOME): Removed duplicate definition.

	* kaffe/kaffevm/external.c: Only include system.h once.

	* include/system.h (kaffe_version, kaffe_vm_vendor, kaffe_vendor) 
	(kaffe_vendor_url_bug, kaffe_vendor_url) 
	(kaffe_vm_specification_version, kaffe_vm_specification_vendor) 
	(kaffe_vm_specification_name, kaffe_vm_version, kaffe_vm_name) 
	(kaffe_specification_version, kaffe_specification_vendor) 
	(kaffe_specification_name, kaffe_class_version) 
	(KAFFECLASSPATH): Removed unused defines.

2006-04-19  Riccardo Mottola <riccardo@kaffe.org>
	* libraries/javalib/awt-implementations/kaffe/java/awt/Container.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Frame.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/MouseEvt.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/ScrollPane.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/ShortcutHandler.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Window.java:
	renamed Container fields to match classpath.

2006-04-19  Dalibor Topic  <robilad@kaffe.org>

	* TODO: Added inflate module removal task.

2006-04-19  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/inflate.h: (inflateInfo) Moved over ...
	* kaffe/kaffevm/inflate.c: (inflateInfo) ... here.

2006-04-19  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/inflate.h (inflate_free): Removed prototype.

	* kaffe/kaffevm/inflate.c (inflate_free): Made static. 
	Moved up in the file so that it's defined before use.

2006-04-19  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/inflate.h (inflate_new): Removed prototype.

	* kaffe/kaffevm/inflate.c (inflate_new): Made static.

2006-04-19  Riccardo Mottola <riccardo@kaffe.org>

	* kaffe/libraries/javalib/awt-implementations/kaffe/java/awt/AWTEventMulticaster.java:
	Removed, so to use classpath versions.

2006-04-19  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/native/java_lang_reflect_VMArray.c 
	(Java_java_lang_reflect_VMArray_createObjectArray): Renamed to ...
	(Java_java_lang_reflect_VMArray_createObjectArray0).

	* libraries/javalib/vmspecific/java/lang/reflect/VMArray.java: 
	(createObjectArray) Check if dim is negative and throw 
	NegativeArraySizeException accordingly.
	(createObjectArray0) New native method.
	
2006-04-18 Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/vmspecific/java/lang/reflect/Field.java
	(get, getBoolean, getByte, getChar, getShort, getInt, getLong,
	getFloat, getDouble, setBooleanInternal, setByteInternal, 
	setCharInternal, setDoubleInternal, setFloatInternal,
	setIntInternal, setLongInternal, setShortInternal): 
	Cleaned up. Reindented. Reimplemented widening by using
	the delegation method from java.lang.reflect.Array.

2006-04-18 Dalibor Topic  <robilad@kaffe.org>

	* TODO: Removed merging in of java.lang.reflect, as that's now 
	completed.

2006-04-18 Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/reflect.c (KaffeVM_makeReflectField),
	kaffe/kaffevm/jni/jni-helpers.c (KaffeJNI_FromReflectedField):
	Updated for new Field implementation.

	* libraries/clib/native/Field.c: Include local native.h.
	(getFieldAddress) Updated for new Field implementation.
	(java_lang_reflect_Field_getModifiers) Renamed to ...
	(java_lang_reflect_Field_getModifiersInternal) ... and updated
	for new Field implementation.
	(java_lang_reflect_Field_getSignature) New function.

	* libraries/javalib/vmspecific/java/lang/reflect/Field.java:
	Merged in from GNU Classpath. Implemented get* and set* methods
	partially in Java, by merging in Kaffe's own implementation.

2006-04-18 Dalibor Topic  <robilad@kaffe.org>

	* include/native.h: Use local java_lang_String.h.

2006-04-18  Guilhem Lavaux  <guilhem@kaffe.org>

	*
	libraries/javalib/external/classpath/gnu/classpath/SystemProperties.java:
	Reverted to original GNU Classpath's version as it is now working.

2006-04-18  Guilhem Lavaux  <guilhem@kaffe.org>

	*
	libraries/javalib/external/classpath/gnu/classpath/SystemProperties.java
	(<clinit>): Use the right parameter for postInit.

2006-04-18  Riccardo Mottola <riccardo@kaffe.org>
	* kaffe/kaffevm/debug.c
	moved configure headers to the top

2006-04-18  Riccardo Mottola <riccardo@kaffe.org>
	* kaffe/libraries/javalib/awt-implementations/kaffe/java/awt/print/*
	Removed, so to use classpath versions.
	
2006-04-18  Riccardo Mottola <riccardo@kaffe.org>
	* kaffe/libraries/javalib/awt-implementations/kaffe/java/awt/peer/*
	Removed, so to use classpath versions.
	/kaffe/libraries/javalib/awt-implementations/kaffe/org/kaffe/awt/DoNothingPeer.java
	Updated to match new classpath peers.
    
2006-04-18  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/clib/management/Classpath.c: Renamed addClasspath and
	prependClasspath.

	* libraries/javalib/vmspecific/java/security/VMSecureRandom.java,
	libraries/javalib/vmspecific/org/kaffe/security/LameRandomness.java,
	libraries/javalib/vmspecific/org/kaffe/security/Randomness.java,
	libraries/javalib/vmspecific/org/kaffe/security/UnixRandomness.java,
	libraries/javalib/vmspecific/org/kaffe/security/provider/SHA1PRNG.java:
	Make use of /dev/urandom if it is available.

2006-04-18  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/findInJar.c,
	kaffe/kaffevm/support.h
	(KaffeVM_addClasspath, KaffeVM_prependClasspath): Renamed to
	prevent namespace collision.

	* kaffe/kaffevm/jni/jni-base.c
	(KaffeJNI_getSystemProperty, KaffeJNI_addEndorsedDirs): New
	functions.

2006-04-17  Dalibor Topic  <robilad@kaffe.org>

	* TODO: Updated, as fastjar has been merged in.

	* THIRDPARTY: Updated URL for fastjar.

2006-04-17  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/intrp/machine.c
	(virtualMachine): Removed volatile.

2006-04-17  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/javalib/external/classpath: Resynchronized with GNU
	Classpath.

	* kaffe/kaffevm/access.h
	(KFLAG_ANONYMOUS): New flag.

	* kaffe/kaffevm/baseClasses.c
	(EnclosingMethod_name): New attribute name.

	* kaffe/kaffevm/classMethod.c
	(setupClass, addMethod, addField): Shielded the usage of indexes.
	(addInnerClasses): Remember anonymous classes.

	* kaffe/kaffevm/classMethod.h
	(Hjava_lang_Class): New fields enclosingClassIndex,
	enclosingMethodIndex.
	
	* kaffe/kaffevm/constants.h
	(CONSTANT_ResolvedMethod): New synthetic constant.

	* kaffe/kaffevm/lookup.c
	(getMethodSignatureClass): Shielded the usage of indexes.
	(getClass): Likewise.
	
	* kaffe/kaffevm/readClass.c
	(readEnclosingMethodAttribute): New function.
	(readSignature): Shielded the usage of indexes.
	
	* libraries/clib/native/Class.c
	(forName): Renamed from forName0. Adapted to VM layer.
	(isSynthetic, isEnum, getEnclosingClass, getEnclosingConstructor,
	getEnclosingMethod, getClassSignature, isAnonymousClass,
	isLocalClass, isMemberClass): New functions.

	* libraries/clib/native/Constructor.c,
	libraries/clib/native/Method.c
	(getModifiersInternal): Renamed from getModifiers.
	
	* libraries/javalib/vmspecific/java/lang/Class.java: Removed.

	* libraries/javalib/vmspecific/java/lang/VMClass.java: Imported
	new version from GNU Classpath.

	* libraries/javalib/vmspecific/java/lang/reflect/Constructor.java,
	libraries/javalib/vmspecific/java/lang/reflect/Method.java:
	Imported from GNU Classpath and adapted to Kaffe's internals.

	* libraries/javalib/vmspecific/java/security/VMSecureRandom.java:
	Imported from GNU Classpath.

	* test/internal/jit_stub.c: Upgraded to initialize
	EnclosingMethod_name.

	* test/regression/IndexTest.java,
	test/regression/ProcessClassInst.java,
	test/regression/ProcessClassStop.java: Fixed expected message.
	
2006-04-17  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/native/java_lang_VMDouble.c:
	Resynced with GNU Classpath.

	2006-01-26  Christian Thalinger  <twisti@complang.tuwien.ac.at>

        * native/jni/java-lang/java_lang_VMDouble.c (doubleToLongBits)
        (doubleToRawLongBits, longBitsToDouble): Swap the byte
        ordering for little-endian arms without VFP.

	2005-11-15  Christian Thalinger  <twisti@complang.tuwien.ac.at>

        * native/jni/java-lang/java_lang_VMDouble.c (initIDs): Register
        clsDouble as global ref.

	2005-08-24  Mark Wielaard  <mark@klomp.org>

        * native/jni/java-lang/java_lang_VMDouble.c
        (Java_java_lang_VMDouble_parseDouble): Remove KISSME_LINUX_USER hack.

2006-04-16  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/jni/jni-base.c (detectAllActiveThreads):
	Only define when JVMPI support is enabled.

2006-04-16  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/systems/unix-pthreads/thread-internal.h:
	Conditionally define (__USE_GNU) if it has not been defined
	to fix a compiler warning.

2006-04-16  Guilhem Lavaux  <guilhem@kaffe.org>

	Fix for bug #35

	* FAQ/FAQ.kaffemd
	
	* configure.ac: Check for pthread_getattr_np

	* configure, config/config.h.in: Regenerated.

	* kaffe/jvmpi/jvmpi_kaffe.c
	(jvmpiFillThreadStart): Filling the JVMPI event structure the same
	way the JDK does (according to JMP).

	* kaffe/kaffevm/thread.c
	(KaffeVM_attachFakedThreadInstance): Build the JNI local reference
	table at that position to catch all newly attached thread.

	* kaffe/kaffevm/jni/jni-base.c
	(detectAllActiveThreads): Send a THREAD_START event for each
	running threads.
	(JNI_CreateJavaVM): Likewise.
	(KaffeJNI_DestroyJavaVM): Send a "shut down" JVMPI event
	
	* kaffe/kaffevm/jni/jni.c
	(Kaffe_DefineClass): Imported some code from
	ClassLoader.defineClass.

	* kaffe/kaffevm/systems/unix-pthreads/signal.c
	(detectStackBoundaries): Renamed to
	KaffePThread_detectStackBoundaries. Simplified the ifdef as
	onstack is not needed anymore for quite a while.
	(KaffePThread_detectThreadStackBoundaries): New function to detect
	stack boundaries for unknown pthreads.

	* kaffe/kaffevm/systems/unix-pthreads/thread-impl.c:
	(jthread_attach_current_thread): If the thread is already attached
	then return immediately. Detect stack boundaries. Setup signal
	handlers again.

	* libraries/javalib/vmspecific/gnu/classpath/VMSystemProperties.java:
	Updated VM version.
	
2006-04-15  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/external/classpath/configure.ac:
	Added CLASSPATH_CONVENIENCE substitution for convenience library LDFLAGS.

	* libraries/javalib/external/classpath/native/fdlibm/Makefile.am,
	libraries/javalib/external/classpath/native/jni/classpath/Makefile.am:
	Don't use -module and -version-info for convenience libraries LDFLAGS.
	Fixes libtool warnings.

2006-04-14  Riccardo Mottola <riccardo@kaffe.org>

	libraries/javalib/awt-implementations/kaffe/Makefile.am:
	Removed some classes that came from GNU Classpath.

	* libraries/javalib/awt-implementations/kaffe/java/awt/GridBagConstraints.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/GridBagLayout.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/GridBagLayoutInfo.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/GridLayout.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/Autoscroll.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DnDConstants.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DnDEventMulticaster.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragGestureEvent.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragGestureListener.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragGestureRecognizer.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragSource.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragSourceAdapter.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragSourceContext.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragSourceDragEvent.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragSourceDropEvent.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragSourceEvent.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragSourceListener.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragSourceMotionListener.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DropTarget.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DropTargetAdapter.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DropTargetContext.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DropTargetDragEvent.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DropTargetDropEvent.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DropTargetEvent.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DropTargetListener.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/InvalidDnDOperationException.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/MouseDragGestureRecognizer.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/package.html,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/peer/DragSourceContextPeer.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/peer/DropTargetContextPeer.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/peer/DropTargetPeer.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/peer/package.html:
	Removed.

2006-04-14  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/jit3/icode.c,
	kaffe/kaffevm/jit3/codeproto.h (softcall_lookupinterfacemethod):
	Added missing const to Method parameter to fix compiler warning.

2006-04-14  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/exception.c (dispatchException): 
	Added missing cast for fix compiler warning.

2006-04-14  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/ksem.h,
	kaffe/kaffevm/ksem.c (ksem_put, ksem_get),
	kaffe/kaffevm/locks.c (getHeavyLock, putHeavyLock, slowLockMutex,
	slowUnlockMutex, locks_internal_slowUnlockMutexIfHeld, 
	locks_internal_waitCond, locks_internal_signalCond, 
	locks_internal_broadcastCond, locks_internal_lockMutex) Removed
	volatile qualifiers and casts to fix compiler warnings.
	
2006-04-13  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/Component.java:
	copied over change property methods from classpath
	
2006-04-12  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/xprof/mangle.c (mangleClassType): 
	Added missing cast to ptrdiff_t to fix compiler warning.

2006-04-06  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/readClass.c (readSignatureAttribute): 
	Guarded to avoid building it for kaffeh.

2006-04-06  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/classMethod.h: Made 
	methods.c.bcode.codelen an unsigned int.

	* kaffe/kaffevm/code-analyse.c (analyzeBasicBlock): 
	Removed unnecessary casts. Moved function up, so
	that the static prototype could be removed. Changed
	parameter pc's type to uint32.
	(analyzeMethod): Made pc an uint32.

	* kaffe/kaffevm/verifier/verify3a.c (verifyMethod3a): 
	Throw a verifier error if code length is 0.

2006-04-06  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/object.c (newArrayChecked): Added assert to check
	that count is >= 0. Simplified a bit, and added casts to fix
	compiler warnings.

	* include/Arrays.h: Explicitely name structs in typedefs.

	* kaffe/kaffevm/jit3/machine.h, 
	kaffe/kaffevm/jit/machine.h,
	kaffe/kaffevm/intrp/machine.h: Include Arrays.h.

	* kaffe/kaffevm/object.h (OBJECT_DTABLE_OFFSET) 
	(ARRAY_SIZE_OFFSET, ARRAY_DATA_OFFSET): Use offsetof instead of
	wild casts.

2006-04-05  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/zip/CRC32.c: Use zlib implementation. Added
	explicit casts to fix compiler warnings.

2006-04-05  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/zip/Adler32.c (java_util_zip_Adler32_update1) 
	(java_util_zip_Adler32_update): Added explicit casts to fix
	compiler warnings.

2006-04-03  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/boehm-gc/boehm/cord/de.c,
	libraries/clib/target/generic/target_generic.h,
	libraries/clib/target/generic/target_generic_misc.h:
	Fixed remaining pscan warnings.

2006-04-03  Dalibor Topic  <robilad@kaffe.org>

	* THIRDPARTY: Updated fastjar to gcc 4.1.0.

	* external/gcc/fastjar: Updated to 4.1.0.

2006-04-03  Dalibor Topic  <robilad@kaffe.org>

        * Resynchronized GNU Classpath.

2006-04-03  Dalibor Topic  <robilad@kaffe.org>

	* THIRDPARTY: Updated to boehm-gc 6.7

	* kaffe/kaffevm/boehm-gc/boehm/ : Updated to boehm-gc 6.7.
	All regression tests pass now with boehm-gc/jit3/pthreads 
	on x86-linux.

2006-04-02  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/vmspecific/java/lang/reflect/Array.java,
	libraries/clib/native/Array.c: Removed.

	* libraries/javalib/vmspecific/java/lang/reflect/Constructor.java
	libraries/javalib/vmspecific/java/lang/reflect/Field.java
	libraries/javalib/vmspecific/java/lang/reflect/Method.java:
	Added missing methods from GNU Classpath.

	* libraries/javalib/vmspecific/java/lang/reflect/VMArray.java
	libraries/clib/native/java_lang_reflect_VMArray.c: New files,
	taken from GNU Classpath.

	* include/Makefile.am: Don't generate include file for Array.

	* libraries/clib/native/Makefile.am: Removed Array.c. Added 
	java_lang_reflect_VMArray.c.

        * Resynchronized GNU Classpath.

2006-04-02  Dalibor Topic  <robilad@kaffe.org>

	Fix for #32.

	* configure.ac: Make --disable-native-awt disable GNU Classpath's
	gtk peer as well.

2006-04-01  Kiyo Inaba <inaba@src.ricoh.co.jp>

	Really fix for #31.

	* kaffe/kaffevm/intrp/methodcalls.c: Reorder the variables
	declaration compatible with older C syntax.

2006-04-01  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/kaffe.def
	(PUTFIELD, PUTSTATIC): Updated semantic to follow JDK 1.5 behaviour.

	* libraries/javalib/vmspecific/java/lang/reflect/Field.java
	(checkFinal): Follow JSR133 recommandation regarding final fields
	being modifiable if setAccessible has been invoked.

2006-03-31  Riccardo Mottola  <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/AWTEvent.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Toolkit.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/event/WindowEvent.java:
	Updated AWT implementation by importing 1.3/1.4 stuff from classpath

2006-03-28  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffeh/main.c

	* kaffe/kaffevm/access.h: Moved kaffe flags on class members into
	its own namespace. Added Java 1.5 accessibility flags.

	* kaffe/kaffevm/baseClasses.c
	(initialiseKaffe): Added support for Signature and Synthetic
	keywords.

	* kaffe/kaffevm/classMethod.c
	(addInnerClasses): Copy accessibility flags.
	(addMethod): put kaffe flags into its own variable. 

	* kaffe/kaffevm/classMethod.h
	(Hjava_lang_Class): Added fields to support kaffe flags and
	extended Java 1.5 signature.
	Kaffe Flags are in their own variable now.

	* kaffe/kaffevm/code-analyse.c: Likewise.

	* kaffe/kaffevm/code-analyse.h
	(CONSTANTTYPE): Added support for CONSTANT_Class and
	CONSTANT_ResolvedClass.
	(SET_NEWFRAME): Updated kaffe flags.

	* kaffe/kaffevm/external.c: Updated kaffe flags.

	* kaffe/kaffevm/gtypes.h: Introduced a new type for kaffe flags.

	* kaffe/kaffevm/kaffe.def
	(LDC): Class can be loaded directly now as of Java 1.5.
	(PUTFIELD, PUTSTATIC): Updated checking of accessibility to Java
	1.5 standard.
	
	* kaffe/kaffevm/readClass.c
	(readSignatureAttribute): New function.
	(readAttributes): Added support for Synthetic and Signature.

	* kaffe/kaffevm/readClass.h: Added support for Java 1.5 classes.

	* kaffe/kaffevm/gcj/gcj-glue.c,
	kaffe/kaffevm/intrp/machine.c,
	kaffe/kaffevm/jit/native-wrapper.c,
	kaffe/kaffevm/jni/jni.c,
	kaffe/kaffevm/intrp/methodcalls.c,
	libraries/clib/native/Class.c: Updated kaffe flags.
	
	* kaffe/kaffevm/intrp/machine.h,
	kaffe/kaffevm/jit3/machine.h,
	kaffe/kaffevm/jit/machine.h
	(current_method): New icode.

	* test/internal/jit_stub.c: Updated to new internal API.
	
2006-03-29  Dalibor Topic  <robilad@kaffe.org>

	Fix for #31.
	
	* kaffe/kaffevm/intrp/methodcalls.c: Added
	missing include to define jvalue.

2006-03-28  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffe/main.c,
	kaffe/kaffe/version.c,
	kaffe/kaffeh/main.c:
	Fixed pscan security warnings.

2006-03-28  Dalibor Topic  <robilad@kaffe.org>

	* external/gcc/fastjar/jartool.c: Cast filenames to char*
	before calling canonical_filename to fix compiler warnings.

2005-03-28  Antoine Reilles  <tonio@kaffe.org>,
	    Joerg Sonnenberger  <joerg@britannica.bec.de>

	* external/gcc/fastjar/jartool.c: Fix security problem for 
	fastjar reported at : http://secunia.com/advisories/14902
	Confirmed by Dalibor.

	Use a canonical_filename function as proposed by joerg, 
	since the problem can't be fixed by realpath, see
	http://mail-index.netbsd.org/tech-pkg/2006/03/07/0002.html

2006-03-27  Dalibor Topic  <robilad@kaffe.org>

	* ChangeLog.18, ChangeLog: Moved old change logs to 
	ChangeLog.18.

	* Makefile.am (EXTRA_DIST): Added ChangeLog.18.

	* developers/autogen.sh: Don't try to apply patch for 
	config.sub if it has already been applied.

2006-03-27  Kurt Miller <kurt@intricatesoftware.com>

        * config/powerpc//threads.h: (THREADSTACKSIZE) Increased
        stack size.

2006-03-27  Dalibor Topic  <robilad@kaffe.org>

        * ChangeLog: Updated Kurt Miller's e-mail address.

2006-03-27  Dalibor Topic  <robilad@kaffe.org>

        * configure.ac, README: Bumped version number up to 1.1.8-pre.

See ChangeLog.17 for earlier messages.

