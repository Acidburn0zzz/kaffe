2006-07-15  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: (KAFFEVM_TRAMPOLINES_S) Removed unnecessary
	top_srcdir part, fixing a config.status warning.

2006-07-14  Dalibor Topic  <robilad@kaffe.org>

	Fixed build again for interpreter-only architectures.

	* kaffe/kaffevm/exception.c: Don't include callKaffeException.h.
	(DISPATCH_EXCEPTION) Removed.

2006-07-14  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Disable mozilla plugin building by 
	default.

2006-07-14  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* test/jni/Makefile.am: (AM_CFLAGS):
	Created.

2006-07-13  Guilhem Lavaux  <guilhem@kaffe.org>

	Reported by Riccardo Mottola <mottola@kaffe.org>

	* libraries/clib/awt/X/Makefile.am
	(libxawt_la_CFLAGS): Added KAFFE_CFLAGS.

	* libraries/clib/awt/X/Makefile.in: Regenerated.

2006-07-13  Dalibor Topic  <robilad@kaffe.org>

	Fixed build on powerpc-linux.

	* configure.ac: Put -mregnames into KAFFE_CCASFLAGS.

	* kaffe/kaffevm/jit/Makefile.am,
	kaffe/kaffevm/jit3/Makefile.am (AM_CCASFLAGS):
	Added KAFFE_CCASFLAGS.
	
2006-07-11  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/Component.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Container.java:
	further focus traversal improvments from CP

2006-07-11  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac (REGEN_FORWARD): Removed.

	* config/Makefile.am (EXTRA_DIST): Removed 
	regen-forward and stamp-h1.in.

	* config/regen-forward,
	config/stamp-h1.in: Removed.

2006-07-11  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac (AC_CONFIG_LINKS) Link icode.h,
	jit.def and tromplines.S into kaffe/kaffevm/jit* 
	directory. Don't AC_SUBST KAFFEVM_JIT_DEF, 
	KAFFEVM_ICODE_H and KAFFEVM_TRAMPOLINES_S.

	* kaffe/kaffevm/jit/Makefile.am,
	kaffe/kaffevm/jit3/Makefile.am:
	Cleaned up from regen-forward leftovers.

2006-07-11  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac (AC_CONFIG_LINKS) Link md.c into
	kaffevm directory.

	* kaffe/kaffevm/Makefile.am (libkaffevm_la_GEN_SRCS, md.c, stamp-h01,
	DISTCLEANFILES, dist-hook) Removed.
	(nodist_libkaffevm_la_SOURCES) List md.c directly.

2006-07-11  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac (AC_CONFIG_LINKS) Link files from kaffevm
	into kaffeh directory to compile them there as well. This
	should really become a shared library eventually.

        * kaffe/kaffeh/Makefile.am (GEN_SRCS, DISTCLEANFILES, 
	$(GEN_SRCS), dist-hook) Removed. 
	(nodist_kaffeh_SOURCES) List the linked over sources.

2006-07-11  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/Component.java:
	implemented and updated some listener accessors
	
2006-07-09  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Only link callKaffeException.h if we
	are not building the interpreter.

2006-07-09  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: AC_SUBST KAFFE_CFLAGS after config.frag
	has been sourced. This may fix the problem Riccardo reported
	on Darwin with -no-cpp-precomp not being honoured.

2006-07-09  Dalibor Topic  <robilad@kaffe.org>

	* config/powerpc/callKaffeException.h: New file.
	* config/powerpc/jit.h: (CALL_KAFFE_EXCEPTION) Moved
	to callKaffeException.h.

	Reported by:  Riccardo Mottola <riccardo@kaffe.org>

2006-07-09  Dalibor Topic  <robilad@kaffe.org>

	* config/arm/linux/config.frag,
	config/bfin/uclinux/config.frag,
	config/ia64/linux/config.frag,
	config/m68k/netbsd1/config.frag,
	config/m68k/linux/config.frag,
	config/m68k/amigaos/config.frag,
	config/m68k/a-ux/config.frag,
	config/mips/netbsd1/config.frag, 
	config/mips/linux/config.frag (KAFFE_CFLAGS): 	 
	Removed -f-no-omit-frame-pointer from KAFFE_CFLAGS,
	since it's now automatically set in configure.

2006-07-09  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: (Khost_cpu, Khost_os) Added subsitutions.
	(CONFIG_MD_H, CONFIG_CALLKAFFEEXCEPTION_H, CONFIG_JIT_MD_H,
	CONFIG_XPROFILE_MD_H)
	Cleaned up, removed substituions and used to create links.
	(HAVE_CONFIG_JIT_MD_H) Removed unused variable.

	* config/Makefile.am: (USE_JIT, ENGINE_GEN_HDRS, ENABLE_XPROF,
	XPROF_HDRS, GEN_HDRS, DISTCLEANFILES, nodist_noinst_HEADERS, 
	jit-md.h, stamp-h01, md.h, stamp-h02, xprofile-md.h, stamp-h03,
 	callKaffeException.h, stamp-h04, dist-hook) Removed no longer
	useful targets and variables.

	* kaffe/jvmpi/Makefile.am,
        kaffe/kaffe/Makefile.am,
        kaffe/kaffeh/Makefile.am,
        kaffe/kaffevm/Makefile.am,
        kaffe/kaffevm/boehm-gc/Makefile.am,
        kaffe/kaffevm/gcj/Makefile.am,
        kaffe/kaffevm/intrp/Makefile.am,
        kaffe/kaffevm/jit/Makefile.am,
        kaffe/kaffevm/jit3/Makefile.am,
        kaffe/kaffevm/jni/Makefile.am,
        kaffe/kaffevm/kaffe-gc/Makefile.am,
        kaffe/kaffevm/systems/beos-native/Makefile.am,
        kaffe/kaffevm/systems/drops-l4threads/Makefile.am,
        kaffe/kaffevm/systems/oskit-pthreads/Makefile.am,
        kaffe/kaffevm/systems/unix-jthreads/Makefile.am,
        kaffe/kaffevm/systems/unix-pthreads/Makefile.am,
        kaffe/kaffevm/verifier/Makefile.am,
        kaffe/xprof/Makefile.am,
        libraries/clib/awt/X/Makefile.am,
        libraries/clib/management/Makefile.am,
        libraries/clib/native/Makefile.am,
        libraries/clib/net/Makefile.am,
        libraries/clib/security/Makefile.am,
        test/internal/Makefile.am (AM_CPPFLAGS): Added
	config/$Khost_cpu and config/$Khost_cpu/$Khost_os
	to include path.

2006-07-09  Dalibor Topic  <robilad@kaffe.org>

	* (nodist_GEN_SRCS, $(nodist_GEN_SRCS), nodist_jitBasic_SOURCES)
	Removed, since functions from version.c are not used anywhere in 
	the test code, so it doesn't need to be forward generated, compiled
	or linked into the jit tests.
	(CLEANFILES) Removed $(nodist_GEN_SRCS).

2006-07-08  Dalibor Topic  <robilad@kaffe.org>

	* test/internal/Makefile.am (JAVA_SOURCE_FILES) List all the 
	sources. Use a single target to build all java test classes.
	(JAVA_CLASSES) Added java/lang/ stuf classes.
	(TEST_CLASSES) List all test classes.
	(jit_stub.o) Depend on JAVA_CLASSES alone.
	(EXTRA_DIST) Use JAVA_SOURCE_FILES.
	(CLEANFILES) Use JAVA_CLASSES.

2006-07-08  Kashyap  <ck_kashyap@yahoo.com>

	* libraries/clib/awt/nano-X/window.c
	(Java_java_awt_Toolkit_wndSetVisible):
	Reordered call to getSourceIndex.
	
2006-07-08  Diego Pettenò  <flameeyes@gentoo.org>

	* kaffe/kaffevm/stackTrace.c
	(printStackTrace): Fix for inconsistent exception list.
	
2006-07-08  Guilhem Lavaux  <guilhem@kaffe.org>

	* configure.ac,
	config/alpha/linux/config.frag,
	config/alpha/netbsd1/config.frag,
	config/alpha/osf/config.frag,
	config/arm/linux/config.frag,
	config/arm/riscos/config.frag,
	config/bfin/uclinux/config.frag,
	config/i386/darwin/config.frag,
	config/i386/nextstep3/config.frag,
	config/i386/qnx/config.frag,
	config/ia64/linux/config.frag,
	config/m68k/a-ux/config.frag,
	config/m68k/amigaos/config.frag,
	config/m68k/linux/config.frag,
	config/m68k/netbsd1/config.frag,
	config/mips/linux/config.frag,
	config/mips/netbsd1/config.frag,
	config/powerpc/aix/config.frag,
	config/powerpc/darwin/config.frag,
	config/powerpc/linux/config.frag,
	config/powerpc/machten/config.frag,
	config/powerpc/netbsd1/config.frag,
	config/powerpc/openbsd2/config.frag,
	config/sh/linux/config.frag,
	kaffe/jvmpi/Makefile.am,
	kaffe/kaffe/Makefile.am,
	kaffe/kaffeh/Makefile.am,
	kaffe/kaffevm/Makefile.am,
	kaffe/kaffevm/boehm-gc/Makefile.am,
	kaffe/kaffevm/gcj/Makefile.am,
	kaffe/kaffevm/gcj/Makefile.am,
	kaffe/kaffevm/intrp/Makefile.am,
	kaffe/kaffevm/jit/Makefile.am,
	kaffe/kaffevm/jit3/Makefile.am,
	kaffe/kaffevm/kaffe-gc/Makefile.am,
	kaffe/kaffevm/systems/beos-native/Makefile.am,
	kaffe/kaffevm/systems/drops-l4threads/Makefile.am,
	kaffe/kaffevm/jni/Makefile.am,
	kaffe/kaffevm/systems/oskit-pthreads/Makefile.am,
	kaffe/kaffevm/systems/unix-jthreads/Makefile.am,
	kaffe/kaffevm/systems/unix-pthreads/Makefile.am,
	kaffe/kaffevm/verifier/Makefile.am,
	kaffe/xprof/Makefile.am,
	libraries/clib/awt/Makefile.am,
	libraries/clib/io/Makefile.am,
	libraries/clib/management/Makefile.am,
	libraries/clib/math/Makefile.am,
	libraries/clib/native/Makefile.am,
	libraries/clib/net/Makefile.am,
	libraries/clib/nio/Makefile.am,
	libraries/clib/security/Makefile.am,
	libraries/clib/sound/alsa/Makefile.am,
	libraries/clib/sound/esd/Makefile.am,
	libraries/clib/zip/Makefile.am:
	Use KAFFE_CFLAGS to add new option instead of
	CFLAGS directly.

	* Makefile.in
	configure,
	config/Makefile.in,
	external/Makefile.in,
	external/gcc/Makefile.in,
	external/gcc/zlib/Makefile.in,
	include/Makefile.in,
	kaffe/Makefile.in,
	kaffe/jvmpi/Makefile.in,
	kaffe/kaffe/Makefile.in,
	kaffe/kaffeh/Makefile.in,
	kaffe/kaffevm/Makefile.in,
	kaffe/kaffevm/boehm-gc/Makefile.in,
	kaffe/kaffevm/gcj/Makefile.in,
	kaffe/kaffevm/intrp/Makefile.in,
	kaffe/kaffevm/jit/Makefile.in,
	kaffe/kaffevm/jit3/Makefile.in,
	kaffe/kaffevm/jni/Makefile.in,
	kaffe/kaffevm/kaffe-gc/Makefile.in,
	kaffe/kaffevm/systems/Makefile.in,
	kaffe/kaffevm/systems/beos-native/Makefile.in,
	kaffe/kaffevm/systems/drops-l4threads/Makefile.in,
	kaffe/kaffevm/systems/oskit-pthreads/Makefile.in,
	kaffe/kaffevm/systems/unix-jthreads/Makefile.in,
	kaffe/kaffevm/systems/unix-pthreads/Makefile.in,
	kaffe/kaffevm/verifier/Makefile.in,
	kaffe/man/Makefile.in,
	kaffe/scripts/Makefile.in,
	kaffe/scripts/bat/Makefile.in,
	kaffe/scripts/compat/Makefile.in,
	kaffe/xprof/Makefile.in,
	libraries/Makefile.in,
	libraries/clib/Makefile.in,
	libraries/clib/awt/Makefile.in,
	libraries/clib/awt/X/Makefile.in,
	libraries/clib/awt/nano-X/Makefile.in,
	libraries/clib/awt/qt/Makefile.in,
	libraries/clib/io/Makefile.in,
	libraries/clib/management/Makefile.in,
	libraries/clib/math/Makefile.in,
	libraries/clib/native/Makefile.in,
	libraries/clib/net/Makefile.in,
	libraries/clib/nio/Makefile.in,
	libraries/clib/security/Makefile.in,
	libraries/clib/sound/Makefile.in,
	libraries/clib/sound/alsa/Makefile.in,
	libraries/clib/sound/common/Makefile.in,
	libraries/clib/sound/esd/Makefile.in,
	libraries/clib/target/Makefile.in,
	libraries/clib/target/Linux/Makefile.in,
	libraries/clib/target/generic/Makefile.in,
	libraries/clib/zip/Makefile.in,
	libraries/extensions/Makefile.in,
	libraries/extensions/comm/Makefile.in,
	libraries/extensions/comm/javalib/Makefile.in,
	libraries/extensions/microsoft/Makefile.in,
	libraries/extensions/microsoft/clib/Makefile.in,
	libraries/extensions/microsoft/javalib/Makefile.in,
	libraries/extensions/pjava/Makefile.in,
	libraries/extensions/pjava/javalib/Makefile.in,
	libraries/extensions/servlet/Makefile.in,
	libraries/extensions/servlet/javalib/Makefile.in,
	libraries/javalib/Makefile.in,
	libraries/javalib/awt-implementations/Makefile.in,
	libraries/javalib/awt-implementations/kaffe/Makefile.in,
	libraries/javalib/external/classpath/config.guess,
	libraries/javalib/external/classpath/ltmain.sh,
	libraries/javalib/gmp-math/Makefile.in:
	Regenerated.

2006-07-07  Riccardo Mottola <riccardo@kaffe.org>

   	* libraries/clib/awt/X/fnt.c:  Removed c99-ism


2006-07-07  Michael Koch  <mkoch@kaffe.org>

	* .cvsignore, kaffe/kaffevm/boehm-gc/boehm/.cvsignore,
	kaffe/kaffevm/kaffe-gc/.cvsignore, kaffe/kaffevm/verifier/.cvsignore,
	libraries/clib/nio/.cvsignore: Updated.

2006-07-07  Michael Koch  <mkoch@kaffe.org>

	* libraries/javalib/Makefile.am, libraries/javalib/Makefile.in:
	Regenerated.

2006-07-06  Michael Koch  <mkoch@kaffe.org>

	* config/.cvsignore,
	external/gcc/fastjar/.cvsignore,
	include/.cvsignore,
	kaffe/kaffevm/boehm-gc/boehm/.cvsignore: Updated.
	* external/.cvsignore,
	external/gcc/.cvsignore,
	external/gcc/zlib/.cvsignore,
	kaffe/kaffevm/boehm-gc/.cvsignore,
	kaffe/kaffevm/boehm-gc/boehm/doc/.cvsignore,
	kaffe/kaffevm/boehm-gc/boehm/include/.cvsignore,
	kaffe/kaffevm/kaffe-gc/.cvsignore,
	kaffe/kaffevm/systems/drops-l4threads/.cvsignore,
	kaffe/kaffevm/verifier/.cvsignore,
	libraries/clib/awt/nano-X/.cvsignore,
	libraries/clib/nio/.cvsignore,
	libraries/clib/target/.cvsignore,
	libraries/clib/target/Linux/.cvsignore,
	libraries/clib/target/generic/.cvsignore,
	libraries/javalib/awt-implementations/.cvsignore,
	libraries/javalib/awt-implementations/kaffe/.cvsignore,
	libraries/javalib/external/classpath/.cvsignore,
	libraries/javalib/external/classpath/doc/.cvsignore,
	libraries/javalib/external/classpath/doc/api/.cvsignore,
	libraries/javalib/external/classpath/examples/.cvsignore,
	libraries/javalib/external/classpath/external/.cvsignore,
	libraries/javalib/external/classpath/external/relaxngDatatype/.cvsignore,
	libraries/javalib/external/classpath/external/sax/.cvsignore,
	libraries/javalib/external/classpath/external/w3c_dom/.cvsignore,
	libraries/javalib/external/classpath/gnu/classpath/.cvsignore,
	libraries/javalib/external/classpath/gnu/java/locale/.cvsignore,
	libraries/javalib/external/classpath/include/.cvsignore,
	libraries/javalib/external/classpath/lib/.cvsignore,
	libraries/javalib/external/classpath/lib/org/.cvsignore,
	libraries/javalib/external/classpath/native/.cvsignore,
	libraries/javalib/external/classpath/native/fdlibm/.cvsignore,
	libraries/javalib/external/classpath/native/jawt/.cvsignore,
	libraries/javalib/external/classpath/native/jni/.cvsignore,
	libraries/javalib/external/classpath/native/jni/classpath/.cvsignore,
	libraries/javalib/external/classpath/native/jni/gtk-peer/.cvsignore,
	libraries/javalib/external/classpath/native/jni/java-io/.cvsignore,
	libraries/javalib/external/classpath/native/jni/java-lang/.cvsignore,
	libraries/javalib/external/classpath/native/jni/java-net/.cvsignore,
	libraries/javalib/external/classpath/native/jni/java-nio/.cvsignore,
	libraries/javalib/external/classpath/native/jni/java-util/.cvsignore,
	libraries/javalib/external/classpath/native/jni/midi-alsa/.cvsignore,
	libraries/javalib/external/classpath/native/jni/midi-dssi/.cvsignore,
	libraries/javalib/external/classpath/native/jni/qt-peer/.cvsignore,
	libraries/javalib/external/classpath/native/jni/xmlj/.cvsignore,
	libraries/javalib/external/classpath/native/plugin/.cvsignore,
	libraries/javalib/external/classpath/native/target/.cvsignore,
	libraries/javalib/external/classpath/native/target/Linux/.cvsignore,
	libraries/javalib/external/classpath/native/target/generic/.cvsignore,
	libraries/javalib/external/classpath/resource/.cvsignore,
	libraries/javalib/external/classpath/scripts/.cvsignore,
	libraries/javalib/external/classpath/tools/.cvsignore,
	libraries/javalib/gmp-math/.cvsignore,
	po/.cvsignore,
	test/jni/.cvsignore,
	test/regression/compile_time/.cvsignore,
	test/regression/compiler/.cvsignore,
	test/regression/run_time/.cvsignore,
	tools/.cvsignore,
	tools/gjdoc/.cvsignore,
	tools/gjdoc/javalib/.cvsignore,
	tools/javatools/.cvsignore,
	tools/javatools/javalib/.cvsignore: New files.

2006-07-06  Dalibor Topic  <robilad@kaffe.org>

	* config/i386/jit.h (FIRSTFRAME): Don't use 
	__builtin_frame_address, as that behaves differently
	under -O0 and -O1 under gcc 4.1.x. Use a small bit
	of assembler instead.

	* configure.ac: Ensure that -fno-strict-aliasing and
	-fno-omit-frame-pointer are set for gcc.

2006-06-17  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/javalib/Makefile.am,
	libraries/javalib/Makefile.in: Regenerated.


2006-06-17  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/javalib/Makefile.am,
	libraries/javalib/Makefile.in,
	libraries/javalib/external/classpath/config.guess,
	libraries/javalib/external/classpath/config.sub,
	libraries/javalib/external/classpath/ltmain.sh,
	po/de.po,
	po/fr.po,
	po/kaffe.pot,
	po/zh_CN.po,
	po/zh_TW.po,
	scripts/ltmain.sh: Regenerated.

2006-06-14  Dalibor Topic  <robilad@kaffe.org>

	Fixed 9 gcc 4.1.1 warnings.

	* config/i386/jit3-i386.def (profiler_start, profiler_end):
	Use profiler_click_t for count.

2006-06-11  Dalibor Topic  <robilad@kaffe.org>

	Fixed 16 gcc 4.1.1 warnings due to abuse of a methods
	field in class to store different types for array and primitive
	classes.

        * kaffe/kaffevm/classMethod.h:
	(struct Hjava_lang_Class): New union cache of methods,
	element_type and array_cache.
	(Kaffe_get_class_methods, Kaffe_set_class_methods,
	Kaffe_get_array_element_type, Kaffe_set_array_element_type,
	Kaffe_get_primitive_array_cache, Kaffe_set_primitive_array_cache)
	New accessor functions.
	(CLASS_METHODS, CLASS_ELEMENT_TYPE, CLASS_ARRAY_CACHE) Removed.

	* kaffe/jvmpi/jvmpi_kaffe.c,
        kaffe/kaffevm/access.c,
        kaffe/kaffevm/classMethod.c,
        kaffe/kaffevm/classPool.c,
        kaffe/kaffevm/code.c,
        kaffe/kaffevm/gcFuncs.c,
        kaffe/kaffevm/gcj/gcj-class.cc,
        kaffe/kaffevm/gcj/gcj-glue.c,
        kaffe/kaffevm/jit/machine.c,
        kaffe/kaffevm/jit3/machine.c,
        kaffe/kaffevm/jni/jni-helpers.c,
        kaffe/kaffevm/jni/jni.c,
        kaffe/kaffevm/lookup.c,
        kaffe/kaffevm/object.c,
        kaffe/kaffevm/reflect.c,
        kaffe/kaffevm/soft.c,
        kaffe/kaffevm/verifier/verify.c,
        kaffe/kaffevm/verifier/verify2.c,
        kaffe/xprof/debugFile.c,
        libraries/clib/native/Class.c,
        libraries/clib/native/Constructor.c,
        libraries/clib/native/Method.c,
        libraries/clib/native/Object.c,
        libraries/clib/native/System.c,
        libraries/extensions/microsoft/clib/Delegate.c,
        test/internal/jitBasic.c:
	Use accessor functions instead of removed macros.

2006-06-07  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/external/classpath: Resynced with GNU Classpath.

2006-06-06  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/external/classpath: Resynced with GNU Classpath.

2006-06-05  Dalibor Topic  <robilad@kaffe.org>

	* config/config.alias: Added mipseb to recognized architectures
	for SESC.

2006-06-05  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/scripts/appletviewer: Removed. Replaced by 
	GNU Classpath's version.

	* configure.ac (AC_CONFIG_FILES) Removed 
	kaffe/scripts/appletviewer.

	* kaffe/scripts/Makefile.am (COND_NATIVE_AWT): Removed,
	since appletviewer is now coming from GNU Classpath.

2006-06-04  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/net/java_net_VMURLConnection.c,
	libraries/javalib/vmspecific/java/net/VMURLConnection.java:
	New files, merged in from GNU Classpath.

	* libraries/clib/net/Makefile.am: Added java_net_VMURLConnection.c.

	* libraries/javalib/external/classpath: Resynced with GNU Classpath.

2006-06-04  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac (CLASSPATH_INCLUDES): Added 
	--disable-plugin and pass through correct --with-vm to
	classpath's configure.

	Reported by:  Alan Eliasen  <eliasen@mindspring.com>

2006-06-02  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/scripts/native2ascii.in,
	kaffe/scripts/serialver.in:
	Use merged in tools from GNU Classpath's tools.zip.

	* tools/javatools/javalib/Makefile.am:
	Removed gnu/classpath/tools/native2ascii/Native2ASCII.java 
	and gnu/classpath/tools/serialver/SerialVer.java.

	* tools/javatools/javalib/gnu/classpath/tools/native2ascii/Native2ASCII.java,
	tools/javatools/javalib/gnu/classpath/tools/serialver/SerialVer.java:
	Removed.

2006-05-25  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/classMethod.h (Hjava_lang_Class):
	Changed type of superclass to void * to fix compiler
	warning with gcc 4.1.0.
	(getSuperclass) New inline function.

	* kaffe/kaffevm/classMethod.c (processClass, resolveInterfaces,
	buildDispatchTable),
	kaffe/kaffevm/gcFuncs.c (destroyClass),
	kaffe/kaffevm/verifier/verify2.c (verify2):
	use getSuperclass.

2006-05-24  Dalibor Topic  <robilad@kaffe.org>

	* include/Makefile.am (stamp-h1all): Merged with
	rebuild-jni-hdrs. Use JNI_DERIVED_HDRS instead of
	HDRS.

	Reported by:  Riccardo Mottola <riccardo@kaffe.org>


2006-05-24  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/systems/unix-pthreads/thread-impl.c
	(TMSG_SHORT, TMSG_LONG, CHECK_CURRENT_THREAD): Don't
	attempt to print pthread_t since it can be a pointer to 
	a struct, or something else on some platforms.

2006-05-24  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/kaffe-gc/gc-mem.c (gc_block_alloc):
	Use %zu format for printing size_t value to fix
	compiler warning on powerpc-darwin.
 
2006-05-24  Dalibor Topic  <robilad@kaffe.org>

	Small warning fix for powerpc-darwin.

	* include/jsyscall.h (_sendto) Modified prototype to match
	OS X & GNU/Linux declaration.

	* kaffe/kaffevm/systems/unix-jthreads/syscalls.c,
	kaffe/kaffevm/systems/unix-pthreads/syscalls.c 
	(jthreadedSendto): Updated declaration to match libc.
	
2006-05-23  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/external/classpath/: Resynced with GNU Classpath.

2006-05-23  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/nio/Makefile.am(libjavanio_la_SOURCES):
	Added gnu_java_nio_VMChannel.c.

	* libraries/clib/nio/gnu_java_nio_VMChannel.c: New file, taken
	from GNU Classpath.

 	* libraries/clib/target/generic/target_generic_network.h,
	libraries/javalib/external/classpath/:
	Resynced with GNU Classpath.

2006-05-22  Dalibor Topic  <robilad@kaffe.org>

	* TODO: Updated after the last Classpath merge.

	* libraries/clib/native/Class.c,
	libraries/clib/native/gnu_classpath_VMSystemProperties.c,
	libraries/clib/native/java_lang_VMSystem.c,
	libraries/clib/target/generic/target_generic_network.h:
	Updated for changes in GNU Classpath.

	* libraries/javalib/external/classpath/ : Resynced with GNU Classpath
	from 2006-05-15.

	* libraries/javalib/vmspecific/java/lang/String.java:
	Added missing methods from GNU Classpath.

	* libraries/javalib/vmspecific/gnu/classpath/VMSystemProperties.java,
	libraries/javalib/vmspecific/java/lang/VMClass.java,
	libraries/javalib/vmspecific/java/lang/VMClassLoader.java,
	libraries/javalib/vmspecific/java/lang/VMSystem.java,
	libraries/javalib/vmspecific/java/lang/reflect/Constructor.java,
	libraries/javalib/vmspecific/java/lang/reflect/Field.java,
	libraries/javalib/vmspecific/java/lang/reflect/Method.java:
	Updated to reflect VM interface changes in GNU Classpath.

	* test/regression/ProcessClassInst.java,
	test/regression/ProcessClassStop.java:
	Updated expected output.
	
2006-05-17  Antoine Reilles <tonio@kaffe.org>
	    Joerg Sonnenberger  <joerg@britannica.bec.de>
	* libraries/clib/sound/esd/org_tritonus_lowlevel_esd_EsdRecordingStream.c,
	libraries/clib/sound/esd/org_tritonus_lowlevel_esd_EsdStream.c:
	remove include of org_tritonus_lowlevel_esd_EsdRecordingStream.h as it
	does not exist

2006-05-16  Antoine Reilles <tonio@kaffe.org>
	* kaffe/scripts/jar.in: fix path to fastjar
	(from Jorg Sonnenberg <joerg@britannica.bec.de>)

2006-05-16  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/Defaults.java:
	changed default fonts again

2006-05-16  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/Component.java:
	implemented property change methods and other adaptions form classpath.

2006-05-12  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/BarMenu.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Button.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Checkbox.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Component.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Container.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Dialog.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Frame.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Label.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/List.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/NativeGraphics.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/PopupWindow.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/RowCanvas.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Scrollbar.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/TextArea.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/TextField.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Window.java:
	refactored fgClr and bgClr to foreground and background

2006-05-11  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/Component.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Window.java:
	updated focus, fields and introduced lightweight handling

2006-05-10  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/Component.java:
	changed getToolkit

2006-05-10  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/Component.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/FocusEvt.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/List.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/RowCanvas.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/TextArea.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/event/FocusEvent.java:
	improved focus event and refactored some fields to match classpath

2006-05-06  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/FileDialog.java:
	solved NPE, made left pane display only topmost directory in path
	
2006-05-06  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/ScrollPaneAdjustable.java:
	removed, so to use classath

2006-05-05  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/Label.java:
	removed the painting of a border if label begun and ended with a space

2006-05-04  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/Canvas.java:
	commented out paint() implementation
	
2006-05-04  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/clib/awt/X/fnt.c:
	fixed seriously broken charWidth implementation
	* libraries/javalib/awt-implementations/kaffe/java/awt/Defaults.java:
	changed default char back to Lucida

2006-05-02  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/Font.java:
	added deriveFont() stubs

2006-05-02  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/Component.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Container.java:
	fixed Containder add() methods.

2006-04-26  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/LayoutManager.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/LayoutManager2.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/CardLayout.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/BorderLayout.java:
	removed, so to use classath

2006-04-26  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/Container.java:
	implemented findComponentAt

2006-04-26  Riccardo Mottola <riccardo@kaffe.org>

	* javalib/awt-implementations/kaffe/java/awt/AWTEvent.java,
	javalib/awt-implementations/kaffe/java/awt/Defaults.java:
	implemented a compliant setSource() in AWTEvent.

2006-04-25  Riccardo Mottola <riccardo@kaffe.org>

	* awt-implementations/kaffe/java/awt/event/HierarchyBoundsAdapter.java,
	awt-implementations/kaffe/java/awt/event/HierarchyBoundsListener.java,
	awt-implementations/kaffe/java/awt/event/HierarchyEvent.java
	awt-implementations/kaffe/java/awt/event/HierarchyListener.java:
	removed, so to use classath

2006-04-24  Riccardo Mottola <riccardo@kaffe.org>

	* awt-implementations/kaffe/java/awt/ActionEvt.java,
	awt-implementations/kaffe/java/awt/MouseEvt.java,
	awt-implementations/kaffe/java/awt/event/ActionEvent.java:
	improved mouse pressed and released events.
	
2006-04-24  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/MouseEvt.java:
	removed package-protected field "button" so that the MouseEvent field is used.

2006-04-24  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/AttributeValue.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/BufferCapabilities.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Transparency.java:
	removed so classpath versions are used.

2006-04-24  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/MouseEvt.java:
	removed an empty method which should not be used anyway

2006-04-24  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/exception.c (dispatchException): Added missing
	cast to fix compiler warning.

2006-04-23  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/Makefile.am: Removed stringParsing.c and 
	stringParsing.h.

	* kaffe/kaffevm/stringParsing.c,
	kaffe/kaffevm/stringParsing.h: Removed since only used for jit testing. 
	Moved over to ...

	* test/internal/stringParsing.c,
	test/internal/stringParsing.h: ... here.

	* test/internal/Makefile.am (jitBasic_SOURCES) Added stringParsing.c
	and stringParsing.h.

2006-04-23  Dalibor Topic  <robilad@kaffe.org>

	* config/powerpc/jit3-powerpc.def: Fixed small powerpc
	jitter debug message format warnings.

2006-04-23  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/classMethod.c (getMethodCodeStart) 
	(setMethodCodeStart): Replace struct _jitCodeHeader
	by jitCodeHeader, which is then suitably defined in 
	each engine.

	* kaffe/kaffevm/intrp/machine.h: Define jitCodeHeader type
	to fix compiler warning.

	* kaffe/kaffevm/classMethod.h: Use jitCodeHeader instead of
	struct _jitCodeHeader.

2006-04-23  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/jit3/machine.c (installMethodCode),
	kaffe/kaffevm/jit/machine.c (installMethodCode) 
	(installMethodCode),
	kaffe/kaffevm/gcFuncs.c (destroyClass),
	kaffe/kaffevm/classPool.c (statClass),
	kaffe/kaffevm/classMethod.c (METHOD_TRUE_NCODE, processClass) 
	(processClass),
	kaffe/jvmpi/jvmpi_kaffe.c (jvmpiFillMethodLoad):
	Use getMethodCodeStart and setMethodCodeStart instead accessing
	struct fields directly.

2006-04-22  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/intrp/methodcalls.c (engine_dispatchException): 
	Mark parameter throwable as unused to fix compiler warning.

2006-04-22  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/systems/unix-jthreads/signal.c (restoreSyncSignalHandler) 
	(restoreAsyncSignalHandler): Split into two versions for systems with and
	without sigaction. In the latter case, do nothing and mark the paraters
	as unused.

2006-04-22  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/systems/unix-pthreads/syscalls.c (jthreadedSendto),
	kaffe/kaffevm/systems/unix-jthreads/syscalls.c 
	(jthreadedGetHostByAddr, jthreadedBind, jthreadedSendto),
	kaffe/kaffevm/systems/unix-jthreads/jthread.c (jthreadedConnect),
	kaffe/kaffevm/systems/unix-jthreads/jthread.h (jthreadedConnect):
	Fixed prototypes to match declarations in jsyscalls.h.

	* include/jsyscall.h: Fixed paramters for _sendto to
	match libc prototype.

2006-04-22  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/binreloc.c (_br_find_exe_for_symbol): 
	Mark parameter error as unused when binreloc is enabled.

2006-04-22  Dalibor Topic  <robilad@kaffe.org>

	* THIRDPARTY: Added version information for binreloc.

2006-04-22  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/constants.c (readConstantPool): Introduced
	new local variable str to hold utf8 strings from class 
	file. That fixes a compiler warning.

2006-04-22  Dalibor Topic  <robilad@kaffe.org>

	Replaced utf8ConstNew(*,-1) calls with the helper function
	utf8ConstFromString.

	* kaffe/kaffevm/utf8const.h,
	kaffe/kaffevm/utf8const.c (utf8ConstFromString): New function.
	(utf8ConstNew) Factored out creation of utf8 constants from
	null-terminated strings into utf8ConstFromString. Changed len
	parameter type to size_t.

	* kaffe/kaffeh/main.c,
	kaffe/kaffevm/baseClasses.c,
	kaffe/kaffevm/classMethod.c,
	kaffe/kaffevm/itypes.c,
	kaffe/kaffevm/reference.c,
	kaffe/kaffevm/string.c,
	kaffe/kaffevm/support.c,
	kaffe/kaffevm/gcj/gcj-glue.c,
	kaffe/kaffevm/jni/jni-string.c,
	kaffe/kaffevm/jni/jni.c,
	libraries/clib/management/JIT.c,
	libraries/clib/native/ClassLoader.c,
	libraries/clib/net/InetAddressImpl.c,
	libraries/extensions/microsoft/clib/Delegate.c,
	test/internal/jitBasic.c,
	test/internal/jit_stub.c: Replaced use of utf8ConstNew with
	utf8ConstFromString where a utf8 constant was created from a 
	null-terminated string. 

2006-04-22  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/jit/native-wrapper.c (Kaffe_wrapper):
	Call the right initInsnSequence depending on the jit engine.
	Call INIT_JIT_MD if necessary.

	* kaffe/kaffevm/jit3/machine.c (initInsnSequence) Removed 
	unused parameters from prototype. 
	(translate): Call INIT_JIT_MD if necessary.

	* kaffe/kaffevm/jit3/machine.h: (initInsnSequence) Removed
        unused parameters from prototype.

2006-04-21  Dalibor Topic  <robilad@kaffe.org>

	* config/i386/jit3-i386.def: Added debug output
	for each defined instruction.

2006-04-21  Dalibor Topic  <robilad@kaffe.org>

	* TODO: Removed inflate_oneshot task.

2006-04-21  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffeh/Makefile.am (GEN_SRCS): Removed inflate.c
	Link with zlib and add its includes to CPPFLAGS.

	* kaffe/kaffevm/Makefile.am: Link with zlib and add its 
	includes to CPPFLAGS. Removed inflate.c and inflate.h.

	* kaffe/kaffevm/jar.c: Include zlib.h.
	(inflate_oneshot) New static function.
	(inflateJarData): Removed unnecessary casts.
	
	* kaffe/kaffevm/inflate.c,
	kaffe/kaffevm/inflate.h: Removed.
	
2006-04-20  Dalibor Topic  <robilad@kaffe.org>

	* include/system.h: Added __uclinux__ to Unix like path/line/file
	separators.

2006-04-20  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffe/main.c (KAFFEHOME): Removed duplicate definition.

	* kaffe/kaffevm/external.c: Only include system.h once.

	* include/system.h (kaffe_version, kaffe_vm_vendor, kaffe_vendor) 
	(kaffe_vendor_url_bug, kaffe_vendor_url) 
	(kaffe_vm_specification_version, kaffe_vm_specification_vendor) 
	(kaffe_vm_specification_name, kaffe_vm_version, kaffe_vm_name) 
	(kaffe_specification_version, kaffe_specification_vendor) 
	(kaffe_specification_name, kaffe_class_version) 
	(KAFFECLASSPATH): Removed unused defines.

2006-04-19  Riccardo Mottola <riccardo@kaffe.org>
	* libraries/javalib/awt-implementations/kaffe/java/awt/Container.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Frame.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/MouseEvt.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/ScrollPane.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/ShortcutHandler.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Window.java:
	renamed Container fields to match classpath.

2006-04-19  Dalibor Topic  <robilad@kaffe.org>

	* TODO: Added inflate module removal task.

2006-04-19  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/inflate.h: (inflateInfo) Moved over ...
	* kaffe/kaffevm/inflate.c: (inflateInfo) ... here.

2006-04-19  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/inflate.h (inflate_free): Removed prototype.

	* kaffe/kaffevm/inflate.c (inflate_free): Made static. 
	Moved up in the file so that it's defined before use.

2006-04-19  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/inflate.h (inflate_new): Removed prototype.

	* kaffe/kaffevm/inflate.c (inflate_new): Made static.

2006-04-19  Riccardo Mottola <riccardo@kaffe.org>

	* kaffe/libraries/javalib/awt-implementations/kaffe/java/awt/AWTEventMulticaster.java:
	Removed, so to use classpath versions.

2006-04-19  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/native/java_lang_reflect_VMArray.c 
	(Java_java_lang_reflect_VMArray_createObjectArray): Renamed to ...
	(Java_java_lang_reflect_VMArray_createObjectArray0).

	* libraries/javalib/vmspecific/java/lang/reflect/VMArray.java: 
	(createObjectArray) Check if dim is negative and throw 
	NegativeArraySizeException accordingly.
	(createObjectArray0) New native method.
	
2006-04-18 Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/vmspecific/java/lang/reflect/Field.java
	(get, getBoolean, getByte, getChar, getShort, getInt, getLong,
	getFloat, getDouble, setBooleanInternal, setByteInternal, 
	setCharInternal, setDoubleInternal, setFloatInternal,
	setIntInternal, setLongInternal, setShortInternal): 
	Cleaned up. Reindented. Reimplemented widening by using
	the delegation method from java.lang.reflect.Array.

2006-04-18 Dalibor Topic  <robilad@kaffe.org>

	* TODO: Removed merging in of java.lang.reflect, as that's now 
	completed.

2006-04-18 Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/reflect.c (KaffeVM_makeReflectField),
	kaffe/kaffevm/jni/jni-helpers.c (KaffeJNI_FromReflectedField):
	Updated for new Field implementation.

	* libraries/clib/native/Field.c: Include local native.h.
	(getFieldAddress) Updated for new Field implementation.
	(java_lang_reflect_Field_getModifiers) Renamed to ...
	(java_lang_reflect_Field_getModifiersInternal) ... and updated
	for new Field implementation.
	(java_lang_reflect_Field_getSignature) New function.

	* libraries/javalib/vmspecific/java/lang/reflect/Field.java:
	Merged in from GNU Classpath. Implemented get* and set* methods
	partially in Java, by merging in Kaffe's own implementation.

2006-04-18 Dalibor Topic  <robilad@kaffe.org>

	* include/native.h: Use local java_lang_String.h.

2006-04-18  Guilhem Lavaux  <guilhem@kaffe.org>

	*
	libraries/javalib/external/classpath/gnu/classpath/SystemProperties.java:
	Reverted to original GNU Classpath's version as it is now working.

2006-04-18  Guilhem Lavaux  <guilhem@kaffe.org>

	*
	libraries/javalib/external/classpath/gnu/classpath/SystemProperties.java
	(<clinit>): Use the right parameter for postInit.

2006-04-18  Riccardo Mottola <riccardo@kaffe.org>
	* kaffe/kaffevm/debug.c
	moved configure headers to the top

2006-04-18  Riccardo Mottola <riccardo@kaffe.org>
	* kaffe/libraries/javalib/awt-implementations/kaffe/java/awt/print/*
	Removed, so to use classpath versions.
	
2006-04-18  Riccardo Mottola <riccardo@kaffe.org>
	* kaffe/libraries/javalib/awt-implementations/kaffe/java/awt/peer/*
	Removed, so to use classpath versions.
	/kaffe/libraries/javalib/awt-implementations/kaffe/org/kaffe/awt/DoNothingPeer.java
	Updated to match new classpath peers.
    
2006-04-18  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/clib/management/Classpath.c: Renamed addClasspath and
	prependClasspath.

	* libraries/javalib/vmspecific/java/security/VMSecureRandom.java,
	libraries/javalib/vmspecific/org/kaffe/security/LameRandomness.java,
	libraries/javalib/vmspecific/org/kaffe/security/Randomness.java,
	libraries/javalib/vmspecific/org/kaffe/security/UnixRandomness.java,
	libraries/javalib/vmspecific/org/kaffe/security/provider/SHA1PRNG.java:
	Make use of /dev/urandom if it is available.

2006-04-18  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/findInJar.c,
	kaffe/kaffevm/support.h
	(KaffeVM_addClasspath, KaffeVM_prependClasspath): Renamed to
	prevent namespace collision.

	* kaffe/kaffevm/jni/jni-base.c
	(KaffeJNI_getSystemProperty, KaffeJNI_addEndorsedDirs): New
	functions.

2006-04-17  Dalibor Topic  <robilad@kaffe.org>

	* TODO: Updated, as fastjar has been merged in.

	* THIRDPARTY: Updated URL for fastjar.

2006-04-17  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/intrp/machine.c
	(virtualMachine): Removed volatile.

2006-04-17  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/javalib/external/classpath: Resynchronized with GNU
	Classpath.

	* kaffe/kaffevm/access.h
	(KFLAG_ANONYMOUS): New flag.

	* kaffe/kaffevm/baseClasses.c
	(EnclosingMethod_name): New attribute name.

	* kaffe/kaffevm/classMethod.c
	(setupClass, addMethod, addField): Shielded the usage of indexes.
	(addInnerClasses): Remember anonymous classes.

	* kaffe/kaffevm/classMethod.h
	(Hjava_lang_Class): New fields enclosingClassIndex,
	enclosingMethodIndex.
	
	* kaffe/kaffevm/constants.h
	(CONSTANT_ResolvedMethod): New synthetic constant.

	* kaffe/kaffevm/lookup.c
	(getMethodSignatureClass): Shielded the usage of indexes.
	(getClass): Likewise.
	
	* kaffe/kaffevm/readClass.c
	(readEnclosingMethodAttribute): New function.
	(readSignature): Shielded the usage of indexes.
	
	* libraries/clib/native/Class.c
	(forName): Renamed from forName0. Adapted to VM layer.
	(isSynthetic, isEnum, getEnclosingClass, getEnclosingConstructor,
	getEnclosingMethod, getClassSignature, isAnonymousClass,
	isLocalClass, isMemberClass): New functions.

	* libraries/clib/native/Constructor.c,
	libraries/clib/native/Method.c
	(getModifiersInternal): Renamed from getModifiers.
	
	* libraries/javalib/vmspecific/java/lang/Class.java: Removed.

	* libraries/javalib/vmspecific/java/lang/VMClass.java: Imported
	new version from GNU Classpath.

	* libraries/javalib/vmspecific/java/lang/reflect/Constructor.java,
	libraries/javalib/vmspecific/java/lang/reflect/Method.java:
	Imported from GNU Classpath and adapted to Kaffe's internals.

	* libraries/javalib/vmspecific/java/security/VMSecureRandom.java:
	Imported from GNU Classpath.

	* test/internal/jit_stub.c: Upgraded to initialize
	EnclosingMethod_name.

	* test/regression/IndexTest.java,
	test/regression/ProcessClassInst.java,
	test/regression/ProcessClassStop.java: Fixed expected message.
	
2006-04-17  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/native/java_lang_VMDouble.c:
	Resynced with GNU Classpath.

	2006-01-26  Christian Thalinger  <twisti@complang.tuwien.ac.at>

        * native/jni/java-lang/java_lang_VMDouble.c (doubleToLongBits)
        (doubleToRawLongBits, longBitsToDouble): Swap the byte
        ordering for little-endian arms without VFP.

	2005-11-15  Christian Thalinger  <twisti@complang.tuwien.ac.at>

        * native/jni/java-lang/java_lang_VMDouble.c (initIDs): Register
        clsDouble as global ref.

	2005-08-24  Mark Wielaard  <mark@klomp.org>

        * native/jni/java-lang/java_lang_VMDouble.c
        (Java_java_lang_VMDouble_parseDouble): Remove KISSME_LINUX_USER hack.

2006-04-16  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/jni/jni-base.c (detectAllActiveThreads):
	Only define when JVMPI support is enabled.

2006-04-16  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/systems/unix-pthreads/thread-internal.h:
	Conditionally define (__USE_GNU) if it has not been defined
	to fix a compiler warning.

2006-04-16  Guilhem Lavaux  <guilhem@kaffe.org>

	Fix for bug #35

	* FAQ/FAQ.kaffemd
	
	* configure.ac: Check for pthread_getattr_np

	* configure, config/config.h.in: Regenerated.

	* kaffe/jvmpi/jvmpi_kaffe.c
	(jvmpiFillThreadStart): Filling the JVMPI event structure the same
	way the JDK does (according to JMP).

	* kaffe/kaffevm/thread.c
	(KaffeVM_attachFakedThreadInstance): Build the JNI local reference
	table at that position to catch all newly attached thread.

	* kaffe/kaffevm/jni/jni-base.c
	(detectAllActiveThreads): Send a THREAD_START event for each
	running threads.
	(JNI_CreateJavaVM): Likewise.
	(KaffeJNI_DestroyJavaVM): Send a "shut down" JVMPI event
	
	* kaffe/kaffevm/jni/jni.c
	(Kaffe_DefineClass): Imported some code from
	ClassLoader.defineClass.

	* kaffe/kaffevm/systems/unix-pthreads/signal.c
	(detectStackBoundaries): Renamed to
	KaffePThread_detectStackBoundaries. Simplified the ifdef as
	onstack is not needed anymore for quite a while.
	(KaffePThread_detectThreadStackBoundaries): New function to detect
	stack boundaries for unknown pthreads.

	* kaffe/kaffevm/systems/unix-pthreads/thread-impl.c:
	(jthread_attach_current_thread): If the thread is already attached
	then return immediately. Detect stack boundaries. Setup signal
	handlers again.

	* libraries/javalib/vmspecific/gnu/classpath/VMSystemProperties.java:
	Updated VM version.
	
2006-04-15  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/external/classpath/configure.ac:
	Added CLASSPATH_CONVENIENCE substitution for convenience library LDFLAGS.

	* libraries/javalib/external/classpath/native/fdlibm/Makefile.am,
	libraries/javalib/external/classpath/native/jni/classpath/Makefile.am:
	Don't use -module and -version-info for convenience libraries LDFLAGS.
	Fixes libtool warnings.

2006-04-14  Riccardo Mottola <riccardo@kaffe.org>

	libraries/javalib/awt-implementations/kaffe/Makefile.am:
	Removed some classes that came from GNU Classpath.

	* libraries/javalib/awt-implementations/kaffe/java/awt/GridBagConstraints.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/GridBagLayout.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/GridBagLayoutInfo.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/GridLayout.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/Autoscroll.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DnDConstants.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DnDEventMulticaster.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragGestureEvent.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragGestureListener.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragGestureRecognizer.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragSource.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragSourceAdapter.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragSourceContext.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragSourceDragEvent.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragSourceDropEvent.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragSourceEvent.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragSourceListener.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DragSourceMotionListener.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DropTarget.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DropTargetAdapter.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DropTargetContext.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DropTargetDragEvent.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DropTargetDropEvent.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DropTargetEvent.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/DropTargetListener.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/InvalidDnDOperationException.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/MouseDragGestureRecognizer.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/package.html,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/peer/DragSourceContextPeer.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/peer/DropTargetContextPeer.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/peer/DropTargetPeer.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/dnd/peer/package.html:
	Removed.

2006-04-14  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/jit3/icode.c,
	kaffe/kaffevm/jit3/codeproto.h (softcall_lookupinterfacemethod):
	Added missing const to Method parameter to fix compiler warning.

2006-04-14  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/exception.c (dispatchException): 
	Added missing cast for fix compiler warning.

2006-04-14  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/ksem.h,
	kaffe/kaffevm/ksem.c (ksem_put, ksem_get),
	kaffe/kaffevm/locks.c (getHeavyLock, putHeavyLock, slowLockMutex,
	slowUnlockMutex, locks_internal_slowUnlockMutexIfHeld, 
	locks_internal_waitCond, locks_internal_signalCond, 
	locks_internal_broadcastCond, locks_internal_lockMutex) Removed
	volatile qualifiers and casts to fix compiler warnings.
	
2006-04-13  Riccardo Mottola <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/Component.java:
	copied over change property methods from classpath
	
2006-04-12  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/xprof/mangle.c (mangleClassType): 
	Added missing cast to ptrdiff_t to fix compiler warning.

2006-04-06  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/readClass.c (readSignatureAttribute): 
	Guarded to avoid building it for kaffeh.

2006-04-06  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/classMethod.h: Made 
	methods.c.bcode.codelen an unsigned int.

	* kaffe/kaffevm/code-analyse.c (analyzeBasicBlock): 
	Removed unnecessary casts. Moved function up, so
	that the static prototype could be removed. Changed
	parameter pc's type to uint32.
	(analyzeMethod): Made pc an uint32.

	* kaffe/kaffevm/verifier/verify3a.c (verifyMethod3a): 
	Throw a verifier error if code length is 0.

2006-04-06  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/object.c (newArrayChecked): Added assert to check
	that count is >= 0. Simplified a bit, and added casts to fix
	compiler warnings.

	* include/Arrays.h: Explicitely name structs in typedefs.

	* kaffe/kaffevm/jit3/machine.h, 
	kaffe/kaffevm/jit/machine.h,
	kaffe/kaffevm/intrp/machine.h: Include Arrays.h.

	* kaffe/kaffevm/object.h (OBJECT_DTABLE_OFFSET) 
	(ARRAY_SIZE_OFFSET, ARRAY_DATA_OFFSET): Use offsetof instead of
	wild casts.

2006-04-05  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/zip/CRC32.c: Use zlib implementation. Added
	explicit casts to fix compiler warnings.

2006-04-05  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/zip/Adler32.c (java_util_zip_Adler32_update1) 
	(java_util_zip_Adler32_update): Added explicit casts to fix
	compiler warnings.

2006-04-03  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/boehm-gc/boehm/cord/de.c,
	libraries/clib/target/generic/target_generic.h,
	libraries/clib/target/generic/target_generic_misc.h:
	Fixed remaining pscan warnings.

2006-04-03  Dalibor Topic  <robilad@kaffe.org>

	* THIRDPARTY: Updated fastjar to gcc 4.1.0.

	* external/gcc/fastjar: Updated to 4.1.0.

2006-04-03  Dalibor Topic  <robilad@kaffe.org>

        * Resynchronized GNU Classpath.

2006-04-03  Dalibor Topic  <robilad@kaffe.org>

	* THIRDPARTY: Updated to boehm-gc 6.7

	* kaffe/kaffevm/boehm-gc/boehm/ : Updated to boehm-gc 6.7.
	All regression tests pass now with boehm-gc/jit3/pthreads 
	on x86-linux.

2006-04-02  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/vmspecific/java/lang/reflect/Array.java,
	libraries/clib/native/Array.c: Removed.

	* libraries/javalib/vmspecific/java/lang/reflect/Constructor.java
	libraries/javalib/vmspecific/java/lang/reflect/Field.java
	libraries/javalib/vmspecific/java/lang/reflect/Method.java:
	Added missing methods from GNU Classpath.

	* libraries/javalib/vmspecific/java/lang/reflect/VMArray.java
	libraries/clib/native/java_lang_reflect_VMArray.c: New files,
	taken from GNU Classpath.

	* include/Makefile.am: Don't generate include file for Array.

	* libraries/clib/native/Makefile.am: Removed Array.c. Added 
	java_lang_reflect_VMArray.c.

        * Resynchronized GNU Classpath.

2006-04-02  Dalibor Topic  <robilad@kaffe.org>

	Fix for #32.

	* configure.ac: Make --disable-native-awt disable GNU Classpath's
	gtk peer as well.

2006-04-01  Kiyo Inaba <inaba@src.ricoh.co.jp>

	Really fix for #31.

	* kaffe/kaffevm/intrp/methodcalls.c: Reorder the variables
	declaration compatible with older C syntax.

2006-04-01  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/kaffe.def
	(PUTFIELD, PUTSTATIC): Updated semantic to follow JDK 1.5 behaviour.

	* libraries/javalib/vmspecific/java/lang/reflect/Field.java
	(checkFinal): Follow JSR133 recommandation regarding final fields
	being modifiable if setAccessible has been invoked.

2006-03-31  Riccardo Mottola  <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/AWTEvent.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Toolkit.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/event/WindowEvent.java:
	Updated AWT implementation by importing 1.3/1.4 stuff from classpath

2006-03-28  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffeh/main.c

	* kaffe/kaffevm/access.h: Moved kaffe flags on class members into
	its own namespace. Added Java 1.5 accessibility flags.

	* kaffe/kaffevm/baseClasses.c
	(initialiseKaffe): Added support for Signature and Synthetic
	keywords.

	* kaffe/kaffevm/classMethod.c
	(addInnerClasses): Copy accessibility flags.
	(addMethod): put kaffe flags into its own variable. 

	* kaffe/kaffevm/classMethod.h
	(Hjava_lang_Class): Added fields to support kaffe flags and
	extended Java 1.5 signature.
	Kaffe Flags are in their own variable now.

	* kaffe/kaffevm/code-analyse.c: Likewise.

	* kaffe/kaffevm/code-analyse.h
	(CONSTANTTYPE): Added support for CONSTANT_Class and
	CONSTANT_ResolvedClass.
	(SET_NEWFRAME): Updated kaffe flags.

	* kaffe/kaffevm/external.c: Updated kaffe flags.

	* kaffe/kaffevm/gtypes.h: Introduced a new type for kaffe flags.

	* kaffe/kaffevm/kaffe.def
	(LDC): Class can be loaded directly now as of Java 1.5.
	(PUTFIELD, PUTSTATIC): Updated checking of accessibility to Java
	1.5 standard.
	
	* kaffe/kaffevm/readClass.c
	(readSignatureAttribute): New function.
	(readAttributes): Added support for Synthetic and Signature.

	* kaffe/kaffevm/readClass.h: Added support for Java 1.5 classes.

	* kaffe/kaffevm/gcj/gcj-glue.c,
	kaffe/kaffevm/intrp/machine.c,
	kaffe/kaffevm/jit/native-wrapper.c,
	kaffe/kaffevm/jni/jni.c,
	kaffe/kaffevm/intrp/methodcalls.c,
	libraries/clib/native/Class.c: Updated kaffe flags.
	
	* kaffe/kaffevm/intrp/machine.h,
	kaffe/kaffevm/jit3/machine.h,
	kaffe/kaffevm/jit/machine.h
	(current_method): New icode.

	* test/internal/jit_stub.c: Updated to new internal API.
	
2006-03-29  Dalibor Topic  <robilad@kaffe.org>

	Fix for #31.
	
	* kaffe/kaffevm/intrp/methodcalls.c: Added
	missing include to define jvalue.

2006-03-28  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffe/main.c,
	kaffe/kaffe/version.c,
	kaffe/kaffeh/main.c:
	Fixed pscan security warnings.

2006-03-28  Dalibor Topic  <robilad@kaffe.org>

	* external/gcc/fastjar/jartool.c: Cast filenames to char*
	before calling canonical_filename to fix compiler warnings.

2005-03-28  Antoine Reilles  <tonio@kaffe.org>,
	    Joerg Sonnenberger  <joerg@britannica.bec.de>

	* external/gcc/fastjar/jartool.c: Fix security problem for 
	fastjar reported at : http://secunia.com/advisories/14902
	Confirmed by Dalibor.

	Use a canonical_filename function as proposed by joerg, 
	since the problem can't be fixed by realpath, see
	http://mail-index.netbsd.org/tech-pkg/2006/03/07/0002.html

2006-03-27  Dalibor Topic  <robilad@kaffe.org>

	* ChangeLog.18, ChangeLog: Moved old change logs to 
	ChangeLog.18.

	* Makefile.am (EXTRA_DIST): Added ChangeLog.18.

	* developers/autogen.sh: Don't try to apply patch for 
	config.sub if it has already been applied.

2006-03-27  Kurt Miller <kurt@intricatesoftware.com>

        * config/powerpc//threads.h: (THREADSTACKSIZE) Increased
        stack size.

2006-03-27  Dalibor Topic  <robilad@kaffe.org>

        * ChangeLog: Updated Kurt Miller's e-mail address.

2006-03-27  Dalibor Topic  <robilad@kaffe.org>

        * configure.ac, README: Bumped version number up to 1.1.8-pre.

See ChangeLog.17 for earlier messages.

