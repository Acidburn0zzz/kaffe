2006-04-02  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/vmspecific/java/lang/reflect/Array.java,
	libraries/clib/native/Array.c: Removed.

	* libraries/javalib/vmspecific/java/lang/reflect/Constructor.java
	libraries/javalib/vmspecific/java/lang/reflect/Field.java
	libraries/javalib/vmspecific/java/lang/reflect/Method.java:
	Added missing methods from GNU Classpath.

	* libraries/javalib/vmspecific/java/lang/reflect/VMArray.java
	libraries/clib/native/java_lang_reflect_VMArray.c: New files,
	taken from GNU Classpath.

	* include/Makefile.am: Don't generate include file for Array.

	* libraries/clib/native/Makefile.am: Removed Array.c. Added 
	java_lang_reflect_VMArray.c.

        * Resynchronized GNU Classpath.

2006-04-02  Dalibor Topic  <robilad@kaffe.org>

	Fix for #32.

	* configure.ac: Make --disable-native-awt disable GNU Classpath's
	gtk peer as well.

2006-04-01  Kiyo Inaba <inaba@src.ricoh.co.jp>

	Really fix for #31.

	* kaffe/kaffevm/intrp/methodcalls.c: Reorder the variables
	declaration compatible with older C syntax.

2006-04-01  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/kaffe.def
	(PUTFIELD, PUTSTATIC): Updated semantic to follow JDK 1.5 behaviour.

	* libraries/javalib/vmspecific/java/lang/reflect/Field.java
	(checkFinal): Follow JSR133 recommandation regarding final fields
	being modifiable if setAccessible has been invoked.

2006-03-31  Riccardo Mottola  <riccardo@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/AWTEvent.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Toolkit.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/event/WindowEvent.java:
	Updated AWT implementation by importing 1.3/1.4 stuff from classpath

2006-03-28  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffeh/main.c

	* kaffe/kaffevm/access.h: Moved kaffe flags on class members into
	its own namespace. Added Java 1.5 accessibility flags.

	* kaffe/kaffevm/baseClasses.c
	(initialiseKaffe): Added support for Signature and Synthetic
	keywords.

	* kaffe/kaffevm/classMethod.c
	(addInnerClasses): Copy accessibility flags.
	(addMethod): put kaffe flags into its own variable. 

	* kaffe/kaffevm/classMethod.h
	(Hjava_lang_Class): Added fields to support kaffe flags and
	extended Java 1.5 signature.
	Kaffe Flags are in their own variable now.

	* kaffe/kaffevm/code-analyse.c: Likewise.

	* kaffe/kaffevm/code-analyse.h
	(CONSTANTTYPE): Added support for CONSTANT_Class and
	CONSTANT_ResolvedClass.
	(SET_NEWFRAME): Updated kaffe flags.

	* kaffe/kaffevm/external.c: Updated kaffe flags.

	* kaffe/kaffevm/gtypes.h: Introduced a new type for kaffe flags.

	* kaffe/kaffevm/kaffe.def
	(LDC): Class can be loaded directly now as of Java 1.5.
	(PUTFIELD, PUTSTATIC): Updated checking of accessibility to Java
	1.5 standard.
	
	* kaffe/kaffevm/readClass.c
	(readSignatureAttribute): New function.
	(readAttributes): Added support for Synthetic and Signature.

	* kaffe/kaffevm/readClass.h: Added support for Java 1.5 classes.

	* kaffe/kaffevm/gcj/gcj-glue.c,
	kaffe/kaffevm/intrp/machine.c,
	kaffe/kaffevm/jit/native-wrapper.c,
	kaffe/kaffevm/jni/jni.c,
	kaffe/kaffevm/intrp/methodcalls.c,
	libraries/clib/native/Class.c: Updated kaffe flags.
	
	* kaffe/kaffevm/intrp/machine.h,
	kaffe/kaffevm/jit3/machine.h,
	kaffe/kaffevm/jit/machine.h
	(current_method): New icode.

	* test/internal/jit_stub.c: Updated to new internal API.
	
2006-03-29  Dalibor Topic  <robilad@kaffe.org>

	Fix for #31.
	
	* kaffe/kaffevm/intrp/methodcalls.c: Added
	missing include to define jvalue.

2006-03-28  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffe/main.c,
	kaffe/kaffe/version.c,
	kaffe/kaffeh/main.c:
	Fixed pscan security warnings.

2006-03-28  Dalibor Topic  <robilad@kaffe.org>

	* external/gcc/fastjar/jartool.c: Cast filenames to char*
	before calling canonical_filename to fix compiler warnings.

2005-03-28  Antoine Reilles  <tonio@kaffe.org>,
	    Joerg Sonnenberger  <joerg@britannica.bec.de>

	* external/gcc/fastjar/jartool.c: Fix security problem for 
	fastjar reported at : http://secunia.com/advisories/14902
	Confirmed by Dalibor.

	Use a canonical_filename function as proposed by joerg, 
	since the problem can't be fixed by realpath, see
	http://mail-index.netbsd.org/tech-pkg/2006/03/07/0002.html

2006-03-27  Dalibor Topic  <robilad@kaffe.org>

	* ChangeLog.18, ChangeLog: Moved old change logs to 
	ChangeLog.18.

	* Makefile.am (EXTRA_DIST): Added ChangeLog.18.

	* developers/autogen.sh: Don't try to apply patch for 
	config.sub if it has already been applied.

2006-03-27  Kurt Miller <kurt@intricatesoftware.com>

        * config/powerpc//threads.h: (THREADSTACKSIZE) Increased
        stack size.

2006-03-27  Dalibor Topic  <robilad@kaffe.org>

        * ChangeLog: Updated Kurt Miller's e-mail address.

2006-03-27  Dalibor Topic  <robilad@kaffe.org>

        * configure.ac, README: Bumped version number up to 1.1.8-pre.

See ChangeLog.17 for earlier messages.

