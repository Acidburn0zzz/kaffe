2005-03-25  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/kaffe.def: (GETSTATIC) Cast
	short constants to jshort before moving them.

	Reported by:  Daniel Bonniot  <Daniel.Bonniot@inria.fr>

2005-03-25  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/nio/gnu_java_nio_VMSelector.c:
	Include <sys/types.h> to fix build on OS X.

	Reported by Michael Franz <mvfranz@gmail.com>

2005-03-25  Dalibor Topic  <robilad@kaffe.org>

	* TODO: Added new integration tasks.

2005-03-25  Jim Huang  <jserv@kaffe.org>

	* po/kaffe.pot,
	po/fr.po,
	po/zh_TW.po,
	kaffe/kaffe/main.c (usage):
	Tweak usage messages about Nano-X backend.
	
2005-03-25  Antonio Tringali  <antonio.tringali@aliceposta.it>

	* kaffe/kaffevm/soft.c: (soft_cvtfi) Compare float against
	floating point constants to fix SIGILL on mips-linux.
	
2005-03-25  Bryan Ã˜stergaard  <kloeri@gentoo.org>

	Warning fixes for alpha-linux.
	
	* kaffe/kaffeh/kaffeh-support.h,
	kaffe/kaffeh/support.c: (addCode, addLineNumbers,
	addLocalVariables, addCheckedExceptions): Use size_t 
	instead of uint32 for len parameter.

	* kaffe/kaffevm/classMethod.c,
	kaffe/kaffevm/classMethod.h: (addInnerClasses) Use size_t 
	instead of uint32 for len parameter.

	* kaffe/kaffevm/code.c,
	kaffe/kaffevm/code.h: (addCode, addLineNumbers, 
	addLocalVariables, addCheckedExceptions) Use size_t 
	instead of uint32 for len parameter.

2005-03-25  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/readClass.c (readAttributes): 
	Cast len to size_t to avoid new warnings on 64 bit platforms.

2005-03-25  Wolfgang Baer  <WBaer@gmx.de>,
	    Arnaud Vandyck  <avdyk@gnu.org>

	* kaffe/man/kaffe.1.xml: New file.
	* kaffe/man/kaffe.1.in: Regenerated.
	
2005-03-25  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/man/Makefile.am (EXTRA_DIST): Added kaffe.1.xml.
	Added rule to create man page from DocBook source.
	
2005-03-24  Dalibor Topic  <robilad@kaffe.org>

	* config/Makefile.am: (EXTRA_DIST) Replaced mips/atomicity.h
	by mips/atomic.h.

2005-03-25  Jim Huang  <jserv@kaffe.org>

	Resynced with GNU Classpath.
	This change is useful to get RSSOwl working.

	2005-03-21  Sven de Marothy  <sven@physto.se>

	* gnu/classpath/SystemProperties.java:
	Add missing aliases for "UnicodeBigUnmarked" and
	"UnicodeLittleUnmarked".

2005-03-24  Thiemo Seufer <ths@networkno.de>

	* config/mips/atomic.h: New glibc-style implementation.
	* config/mips/atomicity.h: Removed.
	* config/mips/common.h: Include atomic.h rather than atomicity.h.
	* config/mips/callKaffeException.h, config/mips/trampolines.S,
	config/mips/jit.h, config/mips/jit3-icode.h, config/mips/jit3-icode.h:
	Fixed some minor typos and inefficiencies.

2005-03-24  Dalibor Topic  <robilad@kaffe.org>

	* TODO: Removed all nasty bugs, as they were all fixed. Wow!
	Looks like the release is really getting closer.

2005-03-24  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/Makefile.am.in (EXTRA_DIST, dist-hook):
	Copy source code manually to avoid automake bugs. This fixes
	make distcheck again.

2005-03-24  Dalibor Topic  <robilad@kaffe.org>

	* config/sparc/atomic-sparc32.h: Removed glibc specific tags
	that broke build on sparc.

2005-03-23  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/classpath/Makefile.am: Added classpath_jawt.h
	to sources. Fixes a make distcheck problem.

2005-03-23  Dalibor Topic  <robilad@kaffe.org>

        * kaffe/scripts/javadoc.in,
        kaffe/scripts/compat/javadoc.in: Append installed antlr to
	bootclasspath. Now gjdoccing all of Kaffe's class library
	works out of the box.

2005-03-22  Dalibor Topic  <robilad@kaffe.org>

	* config/mips/common.h: Really include generic atomic primitives.

2005-03-22  Guilhem Lavaux  <guilhem@kaffe.org>,
	    Dalibor Topic  <robilad@kaffe.org>

	* config/arm/common.h: Disabled atomicity.h

2005-03-22  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/config.h.in, configure: Regenerated.

	* config/mips/irix5/config.frag: Added need_stack_end=yes

	* configure.ac: Check for need_stack_end in config.frag and
	define SIGALTSTACK_NEEDS_END.

2005-03-22  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/mips/common.h: Disabled atomicity.h

2005-03-22  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/ia64/common.h: Removed the inclusion of atomicity.h

2005-03-22  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/scripts/compat/javadoc.in,
	kaffe/scripts/compat/javadoc.in:
	Added -Xmx512M to parameters used to invoke Kaffe to be able to 
	deal with running javadoc on Kaffe's source tree out of the box.

	* m4/m4/ac_prog_antlr.m4: Fixed antlr.jar test to bail out if 
	no antlr.jar can be found.
	
	Resynced with gjdoc.
	
	2005-03-14  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/java2xhtml/Java2xhtml.java: Added
	license boilerplate; updated copyright and license in usage
	output.

	2005-03-13  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/Main.java: Added method
	execute(String, String[]) and commented-out empty shells for
	additional execute methods.  Thanks to Jerry Haltom.
	
	2005-03-08  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/Main.java: add support for option
	-reflection; disable reflection by default.

	* src/gnu/classpath/tools/gjdoc/RootDocImpl.java: only use
	reflection if enabled on command line.

	2005-03-08  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/ExecutableMemberDocImpl.java:
	properly parse the thrown exception immediately preceding the
	closing semicolon of an interface method declaration.

	Reported by Robert Schuster

	2005-03-04  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/SeeTagImpl.java: Removed bogus
	Thread.dumpStack() invocation.

	Reported by Arnaud Vandyck

	* src/gnu/classpath/tools/gjdoc/Main.java: Pass DocErrorReporter
	in reflected invocation of Doclet's validOptions() method.

	Reported by Christopher Oezbek

	2005-02-21  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java: fix
	support for option -title.

	2005-02-14  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/NotifyingInputStreamReader.java: fixed
	bug #11989: ParseException with -encoding UTF-8.
	
	Reported by Kalle Olavi Niemitalo.

	2005-02-11  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/NotifyingInputStreamReader.java:
	correctly handle remaining undecoded bytes in the input buffer.

	* src/gnu/classpath/tools/MalformedInputEvent.java: added
	toString() method.

	2005-02-11  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/Main.java: do not catch Throwable,
	catch Exception instead so that Errors can fall through.

	2005-02-11  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/Main.java: Also exit with return
	code 1 if the doclet raised any errors.

	2005-02-11  Michael Koch  <konqueror@gmx.de>

	* src/gnu/classpath/tools/gjdoc/Main.java
	(main): Fixed typo.

	2005-02-11  Michael Koch  <konqueror@gmx.de>

	* src/gnu/classpath/tools/gjdoc/Main.java
	(main): Exit with return code of '1' of execution is failing.

	2005-02-10  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java:
	fix private field access.

	2005-02-10  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java:
	force generation of overview page if a single package is
	documented and either -title, -doctitle or -overview has been
	specified.

	2005-02-10  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/Main.java: output warning when
	option -classpath hasn't been interceptded at the wrapper level;
	add -serialwarn and -nocomment to usage; better usage message for
	-serialwarn.

	* src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java:
	properly support optiosn -overview and -nocomment.  Replace option
	-noserialwarn with -serialwarn.

	* src/gnu/classpath/tools/doclets/htmldoclet/CssClass.java,
	src/resources/htmldoclet/gjdochtml-clean-layout.css: add new style
	for overview page.

	2005-02-09  Julian Scheid  <julian@sektor37.de>

	* m4/ac_prog_antlr.m4: if $ANTLR_JAR is set, use that for locating
	antlr.jar; complain if $ANTLR_JAR specifies a non-existing file.

	* configure.ac: set autoconf prerequisite version to 2.59; set
	config macro directory; accept option --with-antlr-jar.

	2005-02-08  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/doclets/AbstractDoclet.java:
	* src/gnu/classpath/tools/gjdoc/ClassDocImpl.java:
	* src/gnu/classpath/tools/gjdoc/InheritDocTagImpl.java:
	* src/gnu/classpath/tools/gjdoc/Parser.java:
	* src/gnu/classpath/tools/gjdoc/RootDocImpl.java:
	* src/gnu/classpath/tools/gjdoc/TagImpl.java:
	refactor so that jikes doesn't warn anymore.

	* src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java:
	* src/gnu/classpath/tools/doclets/htmldoclet/CssClass.java:
	* src/resources/htmldoclet/gjdochtml-clean-layout.css:
	some HTML output and CSS refactoring

	* src/gnu/classpath/tools/java2xhtml/Java2xhtml.java:
	s/numerical/numeric/g

2005-03-22  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/gnu/classpath/VMSystemProperties.java (VMSystemProperties): 
	Set build.compiler to jikes to allow out of the box Tomcat4 JSP examples to run.

2005-03-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-18  Sven de Marothy  <sven@physto.se>

        * java/util/zip/GZIPInputStream.java:
        (GZIPInputStream): Read header in constructor.

2005-03-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-18  Andrew John Hughes  <gnu_andrew@member.fsf.org>

        * gnu/javax/swing/text/html/parser/htmlAttributeSet.java:
        (getAttributeNames()): Replaced 'enum' with 'enumeration'.
        * gnu/javax/swing/text/html/parser/htmlValidator.java:
        (validateParameters(TagElement,htmlAttributeSet)):
        Replaced 'enum' with 'enumeration'.
        (validateAttribute(TagElement,htmlAttributeSet,
                           Enumeration,Enumeration)):
        Likewise.

2005-03-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-18  Audrius Meskauskas  <audriusa@bluewin.ch>

        * javax/swing/text/html/parser/Entity.java (getType): New method.
        * javax/swing/text/html/parser/DocumentParser.java:
        Inherit from javax.swing.text.html.parser.Parser.

2005-03-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-18  Robert Schuster  <thebohemian@gmx>

        * native/jni/java-nio/gnu_java_nio_VMSelector.c: Added important
        return statement after throwing exception.

	2005-03-18  Robert Schuster  <thebohemian@gmx>

        * native/jni/java-nio/gnu_java_nio_VMSelector.c: Implemented
    	Java_gnu_java_nio_VMSelector_select.
        * configure.ac: Added check for sys/select.h and strerro_r().

	* libraries/clib/nio/SelectorImpl.c: Removed. Replaced by 
	gnu_java_nio_VMSelector.c.

2005-03-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-17  Chris Burdess  <dog@gnu.org>

        * gnu/xml/dom/html2/DomHTMLDocument.java: Fixed element creation and
        check for HTML/XHTML namespace.

2005-03-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-16  Archie Cobbs  <archie@dellroad.org>

        * native/jni/java-nio/java_nio_VMDirectByteBuffer.c: use
        global native reference to wrap persistent jclass variable.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkPixbufDecoder.c:
        use DeleteLocalRef() to avoid exhausting local native references.

2003-03-20  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Check for -mregnames. It lets us use common register 
	names on powerpc, and will hopefully make it simple to have a single 
	assembler trampoline fiole for both darwin and linux.

	* config/powerpc/trampolines.S: Changed powerpc floating point 
	registers names from 'frX' to 'fX' and built fine on ppc-linux.

2003-03-20  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Don't check for no-cpp-precomp. It confuses
	libtool on 64 bit platforms to think that -fPIC is not supported, 
	leading to fascinating relinking errors. A better way for older
	darwin release must be found to deal with preprocessor breakage.
	It also lead to tons of pointless warning messages on all systems
	beside the -no-cpp-supporting ones, so it needs to go in this form.

	* replace/Makefile.am (libreplace_la_LDFLAGS): Removed -export-dynamic.

See ChangeLog.16 for earlier changes.
